import{a as g,r as m,D as a,j as e,i as w,C as v,F as C}from"./index-Cxrs3Lkb.js";import{C as u}from"./circle-alert-C2mNlqqE.js";import{C as b}from"./circle-check-B9MIiHes.js";import{C as y}from"./chevron-up-Ces9LTca.js";import{X as E}from"./x-v_-TKfNk.js";import{S as O}from"./sparkles-BtX8OBDT.js";const I=()=>{const{uploadQueue:t,clearUploadQueue:f}=g(),[l,j]=m.useState(!0),[N,h]=m.useState(!1);if(m.useEffect(()=>{t.length>0&&h(!0)},[t]),!N||t.length===0)return null;const r=t.filter(s=>s.status===a.PROCESSING).length,o=t.filter(s=>s.status===a.COMPLETED||s.status===a.APROVADO||s.status===a.REJEITADO||s.status===a.APROVADO_USUARIO).length,i=t.filter(s=>s.status===a.ERROR).length,n=r===0;return e.jsxs("div",{className:`
            fixed bottom-6 right-6 z-[1000] 
            bg-[#0a0a0c]/90 backdrop-blur-xl border border-white/10 rounded-[24px] shadow-[0_20px_50px_rgba(0,0,0,0.5)] 
            transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] overflow-hidden
            ${l?"w-[280px] h-[56px]":"w-[340px] h-auto max-h-[450px]"}
            group hover:border-cyan-500/30
        `,children:[e.jsxs("div",{className:`
                    flex items-center justify-between px-4 h-[56px] cursor-pointer
                    ${n?"bg-emerald-500/5":"bg-white/[0.02]"}
                `,onClick:()=>j(!l),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative",children:r>0?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-5 h-5 text-cyan-400 animate-spin"}),e.jsx("div",{className:"absolute inset-0 bg-cyan-400/20 blur-lg animate-pulse rounded-full"})]}):i>0&&n?e.jsx(u,{className:"w-5 h-5 text-red-400"}):e.jsx(b,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-black text-white/90 uppercase tracking-[0.1em]",children:r>0?"Neural Engine":"Sync Finalizado"}),e.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:r>0?`${r} em análise...`:`${o} Sucessos | ${i} Erros`})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"p-1.5 hover:bg-white/5 rounded-full text-slate-500 transition-colors",children:l?e.jsx(y,{className:"w-4 h-4"}):e.jsx(v,{className:"w-4 h-4"})}),n&&e.jsx("button",{onClick:s=>{s.stopPropagation(),h(!1),f()},className:"p-1.5 hover:bg-red-500/10 rounded-full text-slate-500 hover:text-red-400 transition-all",children:e.jsx(E,{className:"w-4 h-4"})})]})]}),!l&&e.jsxs("div",{className:"p-2 pt-0 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("div",{className:"h-px bg-white/5 mb-2 mx-2"}),e.jsx("div",{className:"overflow-y-auto max-h-[320px] px-1 space-y-1 custom-scrollbar",children:t.map(s=>{var p;const c=[a.COMPLETED,a.APROVADO,a.REJEITADO,a.APROVADO_USUARIO].includes(s.status),d=s.status===a.ERROR,x=s.status===a.PROCESSING;return e.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-2xl hover:bg-white/[0.03] transition-all border border-transparent hover:border-white/5 group/item",children:[e.jsx("div",{className:`
                                        w-9 h-9 rounded-xl flex items-center justify-center border transition-all
                                        ${c?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":d?"bg-red-500/10 border-red-500/20 text-red-400":"bg-[#111] border-white/5 text-slate-500 group-hover/item:border-cyan-500/30"}
                                    `,children:x?e.jsx(O,{className:"w-4 h-4 animate-pulse text-cyan-400"}):e.jsx(C,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[12px] font-bold text-slate-200 truncate leading-tight",children:s.fileName}),e.jsxs("p",{className:"text-[10px] uppercase tracking-wider font-bold mt-0.5",children:[x&&((p=s.metadata)!=null&&p.isOffline?e.jsx("span",{className:"text-amber-500 animate-pulse text-[9px]",children:"Aguardando Conexão..."}):e.jsx("span",{className:"text-cyan-500 animate-pulse text-[9px]",children:"Aguardando Webhook..."})),c&&e.jsx("span",{className:"text-emerald-500/70",children:"Sincronizado"}),d&&e.jsx("span",{className:"text-red-500/70",children:"Erro na Sincronização"})]})]}),e.jsxs("div",{className:"shrink-0",children:[x&&e.jsx("div",{className:"w-4 h-4 rounded-full border-[1.5px] border-white/5 border-t-cyan-400 animate-spin"}),c&&e.jsx(b,{className:"w-4 h-4 text-emerald-500"}),d&&e.jsx(u,{className:"w-4 h-4 text-red-500"})]})]},s.id)})}),!n&&e.jsxs("div",{className:"px-3 py-3 mt-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5 px-0.5",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Progresso Total"}),e.jsxs("span",{className:"text-[9px] font-black text-cyan-400 uppercase",children:[Math.round((o+i)/t.length*100),"%"]})]}),e.jsx("div",{className:"h-1 bg-white/5 w-full rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-600 to-cyan-400 transition-all duration-700 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.3)]",style:{width:`${(o+i)/t.length*100}%`}})})]})]})]})};export{I as default};
