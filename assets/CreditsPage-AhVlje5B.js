const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-C4yhlb_S.js","assets/index-js_cOUDW.js","assets/index-CLM23Pdi.css","assets/jspdf.plugin.autotable-CE3sARA3.js"])))=>i.map(i=>d[i]);
import{d as z,a as Se,u as Ee,r as l,n as Ae,j as e,Z as k,i as f,B as Y,s as O,_ as ee}from"./index-js_cOUDW.js";import{W as te}from"./wallet-Drev8J8M.js";import{S as Pe}from"./sparkles-XuKB9x_f.js";import{S as Te}from"./shield-check-Don5uJcA.js";import{X as Re}from"./x-BD21_tLH.js";import{C}from"./chevron-right-UWUbxRAK.js";import{S as _e,C as Ie}from"./smartphone-DQd4Bwf2.js";import{C as Oe}from"./circle-check-D4zvV2ZH.js";import{C as se}from"./check-B8A_uXsj.js";import{A as De}from"./arrow-down-right-Cr2po-X1.js";import{U as D}from"./user-BshFW8Io.js";import{A as ae}from"./arrow-right-Br51ahbP.js";import{C as re}from"./circle-alert-D2DKtrJs.js";import{H as ze}from"./history-CEmoiUfD.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Ue=z("gem",Le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Fe=z("hash",Me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Be=z("upload",$e),at=()=>{const{selectedCompany:a,refreshData:S,isTopupWizardOpen:L,setIsTopupWizardOpen:U}=Se(),{user:o,refreshUser:E}=Ee(),[m,le]=l.useState([]),[ie,M]=l.useState(!1),[F,ne]=l.useState([]),[oe,$]=l.useState(!1),[h,B]=l.useState(1),[b,ce]=l.useState(1),de=10,[j,d]=l.useState(1),[i,H]=l.useState(null),[N,xe]=l.useState("MCX"),[x,X]=l.useState({phone:"",email:"",proof:""}),[A,P]=l.useState(!1),[me,g]=l.useState(!1),[he,T]=l.useState(!1),[pe,R]=l.useState(!1),[c,V]=l.useState(""),[W,ue]=l.useState({amount:0,companyName:""}),[p,G]=l.useState(!1),[q,fe]=l.useState([]);l.useEffect(()=>{(async()=>{try{const s=await fetch("/api/public/bank-accounts");if(s.ok){const r=await s.json();fe(r)}}catch(s){console.error("Failed to load bank accounts",s)}})()},[]);const[_,w]=l.useState(!1),[be,je]=l.useState([]),[v,J]=l.useState(""),[y,Q]=l.useState(""),[u,K]=l.useState(!1);l.useEffect(()=>{_&&a&&a!=="ALL"&&Ae.getTeam((o==null?void 0:o.id)||"",a.id).then(t=>{je(t.filter(s=>s.status==="ACTIVE"&&s.companyId===a.id))}).catch(console.error)},[_,a,o]);const Ne=async()=>{if(!a||a==="ALL"||!y||!v)return;const t=parseInt(y);if(!(isNaN(t)||t<=0)){K(!0);try{const s=await fetch("/api/credits/transfer-to-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({targetUserId:v,amount:t})});if(s.ok)await E(),await S(!0),w(!1),Q(""),J(""),alert("Créditos transferidos com sucesso!");else{const r=await s.json();alert("Erro: "+r.error)}}catch{alert("Erro ao processar transferência")}finally{K(!1)}}};l.useEffect(()=>{(async()=>{$(!0);try{const s=await O.getCreditPackages();ne(s.map(r=>{var n;return{id:r.id,name:r.name,credits:r.credits,price:r.price,bonus:r.bonus_credits,color:((n=r.color)==null?void 0:n.replace("bg-","").replace("-500",""))||"blue",popular:r.name==="PRO"}}))}catch(s){console.error("Failed to load credit packages:",s)}$(!1)})()},[]),l.useEffect(()=>{(async()=>{M(!0);try{const s=a&&a!=="ALL"?a.id:"PERSONAL",r=await O.getTransactionHistory(s,h,de);le(r.data),ce(r.pagination.totalPages)}catch(s){console.error("Failed to load history:",s)}M(!1)})()},[a,L,h]);const ge=t=>{H(t),d(2)},Z=t=>t.toLocaleString("pt-AO",{minimumFractionDigits:2,maximumFractionDigits:2}),we=t=>{d(1),U(!0)},I=()=>{U(!1),setTimeout(()=>{d(1),H(null),P(!1)},300)},ve=async()=>{if(i){P(!0);try{const t={id:i.id,name:i.name,price:i.price,credits:i.credits+i.bonus,features:[],popular:!1};await O.purchaseCredits("PERSONAL",t,N,x),d(4),await E(),await S(!0)}catch(t){alert("Erro no processamento: "+(t.message||"Tente novamente"))}finally{P(!1)}}},ye=async()=>{if(!a||a==="ALL"||!c)return;const t=parseInt(c);if(!(isNaN(t)||t<=0)){G(!0);try{const s=await fetch("/api/credits/transfer-to-company",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({companyId:a.id,amount:t})});if(s.ok)ue({amount:t,companyName:a.name}),await E(),await S(!0),g(!1),V(""),T(!0);else{const r=await s.json();alert("Erro: "+r.error)}}catch{alert("Erro ao processar transferência")}finally{G(!1)}}},ke=()=>{m.length&&ee(async()=>{const{default:t}=await import("./jspdf.es.min-C4yhlb_S.js").then(s=>s.j);return{default:t}},__vite__mapDeps([0,1,2])).then(({default:t})=>{ee(async()=>{const{default:s}=await import("./jspdf.plugin.autotable-CE3sARA3.js").then(r=>r.j);return{default:s}},__vite__mapDeps([3,1,2,0])).then(({default:s})=>{const r=new t;r.setFontSize(16),r.text("Histórico de Transações",14,15),r.setFontSize(10),r.text(`Empresa: ${(a==null?void 0:a.name)||"N/A"}`,14,22),r.text(`Gerado em: ${new Date().toLocaleString("pt-AO")}`,14,27),s(r,{startY:35,head:[["Data","Usuário","Tipo","Descrição","Créditos"]],body:m.map(n=>[n.date.toLocaleString("pt-AO"),n.userName||"Sistema",n.type,n.description,n.credits>0?`+${n.credits}`:`${n.credits}`]),styles:{fontSize:8},headStyles:{fillColor:[6,182,212]}}),r.save(`extrato_${a==null?void 0:a.id}_${new Date().toISOString().split("T")[0]}.pdf`)})})};if(a==="ALL")return e.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-500",children:[e.jsx(te,{className:"w-16 h-16 mb-4 opacity-20"}),e.jsx("h3",{className:"text-white font-bold text-lg",children:"Selecione uma empresa específica para gerir créditos."})]});const Ce=(o==null?void 0:o.credits)||0;return e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 relative pb-20",children:[L&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl transition-opacity",onClick:I}),e.jsxs("div",{className:"relative w-full max-w-4xl bg-[#080808] border border-white/10 rounded-[32px] shadow-[0_0_100px_rgba(6,182,212,0.15)] flex flex-col md:flex-row overflow-hidden animate-in zoom-in-95 duration-300 min-h-[550px]",children:[e.jsxs("div",{className:"w-full md:w-1/3 bg-[#0c0c0c] border-r border-white/5 p-8 flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-500 to-blue-600"}),e.jsx("div",{className:"absolute -right-20 -top-20 w-64 h-64 bg-cyan-500/10 blur-[80px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-white/5 rounded-lg text-cyan-400",children:e.jsx(Ue,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-widest",children:"KwikDocs Credits"})]}),i?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Pacote Selecionado"}),e.jsx("h2",{className:"text-2xl font-black text-white",children:i.name})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-4xl font-mono font-bold text-cyan-400",children:i.credits+i.bonus}),e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"créditos"})]}),i.bonus>0&&e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-bold",children:[e.jsx(Pe,{className:"w-3 h-3"})," Inclui ",i.bonus," bónus"]}),e.jsx("div",{className:"pt-6 border-t border-white/5",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Total a Pagar"}),e.jsxs("span",{className:"text-xl font-bold text-white",children:[Z(i.price)," Kz"]})]})})]}):e.jsxs("div",{className:"space-y-4 opacity-50",children:[e.jsx("div",{className:"h-8 w-3/4 bg-white/5 rounded animate-pulse"}),e.jsx("div",{className:"h-12 w-1/2 bg-white/5 rounded animate-pulse"})]})]}),e.jsxs("div",{className:"relative z-10 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[e.jsx(Te,{className:"w-4 h-4 text-emerald-500"})," Pagamento Seguro"]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[e.jsx(k,{className:"w-4 h-4 text-amber-500"})," Ativação Imediata"]})]})]}),e.jsxs("div",{className:"flex-1 p-8 md:p-10 relative bg-[#080808]",children:[e.jsx("button",{onClick:I,className:"absolute top-6 right-6 p-2 text-slate-500 hover:text-white transition-colors hover:bg-white/5 rounded-full",children:e.jsx(Re,{className:"w-5 h-5"})}),j===1&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-300 h-full flex flex-col",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Escolha seu Pacote"}),e.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Selecione a quantidade de créditos que deseja carregar."}),e.jsx("div",{className:"grid grid-cols-1 gap-4 overflow-y-auto custom-scrollbar flex-1 pr-2",children:oe?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(f,{className:"w-8 h-8 animate-spin mx-auto text-cyan-400"}),e.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Carregando pacotes..."})]}):F.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:e.jsx("p",{children:"Nenhum pacote disponível"})}):F.map(t=>e.jsxs("div",{onClick:()=>ge(t),className:`
                                                    group relative p-5 rounded-2xl border transition-all cursor-pointer flex items-center justify-between
                                                    ${(i==null?void 0:i.id)===t.id?"bg-cyan-500/10 border-cyan-500":t.popular?"bg-cyan-900/10 border-cyan-500/50 hover:border-cyan-400":"bg-[#111] border-white/5 hover:border-white/20"}
                                                `,children:[t.popular&&e.jsx("div",{className:"absolute -top-3 left-6 bg-cyan-500 text-black text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg shadow-cyan-500/20",children:"Mais Popular"}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg font-black border shadow-inner ${t.color==="purple"?"bg-purple-500/10 text-purple-400 border-purple-500/20":t.color==="blue"?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"}`,children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[t.credits," Créditos ",t.bonus>0&&e.jsxs("span",{className:"text-emerald-400 font-bold",children:["+",t.bonus," Bónus"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:[Z(t.price)," Kz"]}),e.jsx(C,{className:"w-5 h-5 text-slate-600 group-hover:text-white transition-colors"})]})]},t.id))})]}),j===2&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-300 h-full flex flex-col",children:[e.jsxs("button",{onClick:()=>d(1),className:"text-xs font-bold text-slate-500 hover:text-white mb-6 flex items-center gap-1 w-fit",children:[e.jsx(C,{className:"w-3 h-3 rotate-180"})," Voltar"]}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Forma de Pagamento"}),e.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Escolha como prefere realizar o pagamento."}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-8",children:["MCX","REFERENCE","TRANSFER"].map(t=>e.jsxs("button",{onClick:()=>{xe(t),d(3)},className:`
                                                    flex flex-col items-center gap-3 py-6 rounded-2xl border transition-all relative overflow-hidden
                                                    bg-[#111] border-white/5 text-slate-500 hover:border-white/20 hover:bg-[#151515]
                                                `,children:[t==="MCX"?e.jsx(_e,{className:"w-6 h-6"}):t==="REFERENCE"?e.jsx(Fe,{className:"w-6 h-6"}):e.jsx(Y,{className:"w-6 h-6"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest relative z-10",children:t==="MCX"?"Express":t==="REFERENCE"?"Referência":"Transf."})]},t))})]}),j===3&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-300 h-full flex flex-col",children:[e.jsxs("button",{onClick:()=>d(2),className:"text-xs font-bold text-slate-500 hover:text-white mb-6 flex items-center gap-1 w-fit",children:[e.jsx(C,{className:"w-3 h-3 rotate-180"})," Voltar"]}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Confirmar Pagamento"}),e.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Anexe o comprovativo e confirme os dados."}),e.jsxs("div",{className:"flex-1 space-y-6",children:[N==="MCX"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Número de Telemóvel"}),e.jsx("input",{type:"text",placeholder:"9XX XXX XXX",value:x.phone,onChange:t=>X({...x,phone:t.target.value}),className:"w-full bg-[#111] border border-white/10 rounded-xl py-4 px-4 text-white focus:outline-none focus:border-cyan-500 transition-all font-mono"})]}),(N==="TRANSFER"||N==="REFERENCE")&&e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("p",{className:"text-xs text-slate-300 mb-2 font-bold",children:"Contas Bancárias Disponíveis:"}),e.jsx("div",{className:"space-y-3",children:q.length>0?q.map(t=>e.jsxs("div",{className:"font-mono text-xs text-slate-500 bg-black/20 p-2 rounded",children:[e.jsx("p",{className:"font-bold text-slate-400",children:t.bank_name}),e.jsxs("p",{children:["IBAN: ",t.iban]}),t.account_number&&e.jsxs("p",{children:["Conta: ",t.account_number]}),e.jsxs("p",{children:["Titular: ",t.holder_name]})]},t.id)):e.jsx("p",{className:"text-slate-500 italic",children:"Nenhuma conta configurada."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Comprovativo de Pagamento"}),e.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-6 hover:border-cyan-500/50 transition-colors text-center relative",children:[e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:t=>{var r;const s=(r=t.target.files)==null?void 0:r[0];if(s){const n=new FileReader;n.onloadend=()=>{X({...x,proof:n.result})},n.readAsDataURL(s)}},className:"absolute inset-0 opacity-0 cursor-pointer"}),x.proof?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-400",children:[e.jsx(Oe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-bold",children:"Arquivo selecionado"})]}):e.jsxs("div",{className:"text-slate-500 text-xs",children:[e.jsx(Be,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Arraste ou clique para enviar"}),e.jsx("p",{className:"text-[10px] opacity-70 mt-1",children:"PDF ou Imagem (Max 5MB)"})]})]})]})]}),e.jsxs("button",{onClick:ve,disabled:A||!x.proof,className:"w-full py-5 bg-white text-black font-black text-sm uppercase tracking-widest rounded-2xl hover:bg-cyan-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-[0_0_30px_rgba(255,255,255,0.1)] flex items-center justify-center gap-3 mt-4",children:[A?e.jsx(f,{className:"w-5 h-5 animate-spin"}):e.jsx(Ie,{className:"w-5 h-5"}),A?"Processando...":"Confirmar Pagamento"]})]}),j===4&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in zoom-in-90 duration-500",children:[e.jsxs("div",{className:"w-24 h-24 bg-emerald-500 rounded-full flex items-center justify-center mb-8 shadow-[0_0_60px_rgba(16,185,129,0.4)] relative",children:[e.jsx(se,{className:"w-12 h-12 text-black stroke-[3px]"}),e.jsx("div",{className:"absolute inset-0 border-2 border-white/20 rounded-full animate-ping"})]}),e.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:"Pedido Enviado!"}),e.jsx("p",{className:"text-slate-400 max-w-xs mx-auto mb-10 leading-relaxed",children:"O seu comprovativo foi recebido. Iremos processar o pagamento e creditar a sua conta em breve (Status: Pendente)."}),e.jsx("button",{onClick:I,className:"px-10 py-4 bg-[#111] border border-white/10 hover:border-white/30 text-white font-bold rounded-xl transition-all uppercase text-xs tracking-widest",children:"Voltar ao Painel"})]})]})]})]}),me&&e.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-md",onClick:()=>!p&&g(!1)}),e.jsxs("div",{className:"relative w-full max-w-md bg-[#0c0c0c] border border-white/10 rounded-[24px] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-white/5 space-y-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-purple-400"})," Confirmar Transferência"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Valide os detalhes antes de processar."})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Origem"}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-purple-500/10 flex items-center justify-center",children:e.jsx(D,{className:"w-3.5 h-3.5 text-purple-400"})}),e.jsx("span",{className:"text-sm font-medium",children:"Carteira Pessoal"})]})]}),e.jsx(ae,{className:"w-4 h-4 text-slate-700"}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Destino"}),e.jsxs("div",{className:"flex items-center gap-2 justify-end text-white",children:[e.jsx("span",{className:"text-sm font-medium",children:a.name}),e.jsx("div",{className:"w-6 h-6 rounded bg-teal-500/10 flex items-center justify-center",children:e.jsx(Y,{className:"w-3.5 h-3.5 text-teal-400"})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Quantidade a Transferir"}),e.jsxs("span",{className:"text-white font-mono font-bold text-lg",children:[c," créditos"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs pt-4 border-t border-white/5 text-slate-400",children:[e.jsx("span",{children:"Saldo Pessoal Restante"}),e.jsx("span",{className:"text-slate-500 font-mono",children:((o==null?void 0:o.credits)||0)-parseInt(c||"0")})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400",children:[e.jsx("span",{children:"Novo Saldo Empresa"}),e.jsx("span",{className:"text-emerald-500 font-mono font-bold",children:((a==null?void 0:a.credits)||0)+parseInt(c||"0")})]})]}),e.jsxs("div",{className:"p-3 bg-amber-500/5 border border-amber-500/10 rounded-xl flex gap-3",children:[e.jsx(re,{className:"w-4 h-4 text-amber-500 shrink-0"}),e.jsx("p",{className:"text-[10px] text-amber-200/70 leading-relaxed italic",children:"Esta operação é irreversível. Os créditos serão debitados imediatamente da sua conta principal."})]})]}),e.jsxs("div",{className:"p-6 bg-white/[0.02] flex gap-3",children:[e.jsx("button",{onClick:()=>g(!1),disabled:p,className:"flex-1 py-3 text-xs font-bold text-slate-500 hover:text-white transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:ye,disabled:p,className:"flex-[2] py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-black text-xs uppercase tracking-widest rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-lg",children:[p?e.jsx(f,{className:"w-4 h-4 animate-spin"}):e.jsx(k,{className:"w-4 h-4 fill-current"}),p?"Transferindo...":"Confirmar e Enviar"]})]})]})]}),he&&e.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl",onClick:()=>T(!1)}),e.jsx("div",{className:"relative w-full max-w-sm bg-[#0c0c0c] border border-emerald-500/20 rounded-[32px] overflow-hidden shadow-[0_0_50px_rgba(16,185,129,0.1)] animate-in zoom-in-95 duration-300",children:e.jsxs("div",{className:"p-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-500 rounded-full flex items-center justify-center mb-6 shadow-[0_0_40px_rgba(16,185,129,0.3)]",children:e.jsx(se,{className:"w-10 h-10 text-black stroke-[3px]"})}),e.jsx("h3",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:"Sucesso!"}),e.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:["A transferência de ",e.jsxs("span",{className:"text-white font-bold",children:[W.amount," créditos"]})," para ",e.jsx("span",{className:"text-white font-bold",children:W.companyName})," foi concluída com sucesso."]}),e.jsx("button",{onClick:()=>T(!1),className:"w-full py-4 bg-white text-black font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-emerald-50 transition-all shadow-lg",children:"Entendido"})]})})]}),pe&&e.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl",onClick:()=>R(!1)}),e.jsx("div",{className:"relative w-full max-w-sm bg-[#0c0c0c] border border-red-500/20 rounded-[32px] overflow-hidden shadow-[0_0_50px_rgba(239,68,68,0.1)] animate-in zoom-in-95 duration-300",children:e.jsxs("div",{className:"p-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-500/10 border border-red-500/20 rounded-full flex items-center justify-center mb-6",children:e.jsx(re,{className:"w-10 h-10 text-red-500"})}),e.jsx("h3",{className:"text-2xl font-black text-white mb-2 tracking-tight uppercase",children:"Alerta"}),e.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:"Saldo insuficiente na conta pessoal. Por favor, carregue a sua conta pessoal primeiro para poder transferir créditos para a empresa."}),e.jsx("button",{onClick:()=>R(!1),className:"w-full py-4 bg-red-500 text-white font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-red-600 transition-all shadow-lg",children:"Fechar"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 relative overflow-hidden rounded-[32px] p-10 bg-[#080808] border border-cyan-500/20 shadow-2xl group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-cyan-500/5 blur-[100px] rounded-full group-hover:bg-cyan-500/10 transition-all duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-cyan-950 rounded-lg text-cyan-400",children:e.jsx(te,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-sm font-bold text-cyan-200 uppercase tracking-widest",children:"Carteira Pessoal"})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("span",{className:"text-7xl md:text-8xl font-black text-white tracking-tighter shadow-cyan-500/50 drop-shadow-lg",children:Ce}),e.jsx("span",{className:"text-xl text-slate-500 font-medium",children:"créditos"})]}),e.jsxs("p",{className:"mt-4 text-xs text-slate-500 font-medium bg-[#111] w-fit px-3 py-1.5 rounded-full border border-white/5",children:["A sua equipa consome uma média de ",e.jsx("span",{className:"text-white font-bold",children:"12 créditos/dia"}),"."]})]}),e.jsxs("button",{onClick:()=>we(),className:"px-10 py-5 rounded-[20px] bg-white text-black font-black uppercase text-xs hover:bg-cyan-50 hover:scale-105 transition-all flex items-center gap-3 shadow-[0_0_30px_rgba(255,255,255,0.15)] group/btn",children:[e.jsx(k,{className:"w-5 h-5 fill-current"}),e.jsx("span",{children:"Recarregar Agora"}),e.jsx(C,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})]})]}),e.jsxs("div",{className:"rounded-[32px] p-8 bg-[#0c0c0c] border border-white/5 flex flex-col justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-pink-500"}),e.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Reforçar Empresa"}),e.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Transfira créditos da sua carteira pessoal para esta empresa."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"number",placeholder:"Qtd. Créditos",value:c,onChange:t=>V(t.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-purple-500 transition-all font-mono text-sm"})}),e.jsxs("button",{onClick:()=>{if(!c||parseInt(c)<=0)return alert("Insira um valor válido");if(parseInt(c)>((o==null?void 0:o.credits)||0)){R(!0);return}g(!0)},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl hover:opacity-90 transition-all shadow-lg flex items-center justify-center gap-2",children:[e.jsx(ae,{className:"w-3.5 h-3.5"})," Continuar"]})]})]}),e.jsxs("div",{className:"rounded-[32px] p-8 bg-[#0c0c0c] border border-white/5 flex flex-col justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-teal-500 to-emerald-500"}),e.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Reforçar Colaborador"}),e.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Transfira créditos da empresa para um utilizador específico."}),e.jsx("div",{className:"mt-auto",children:e.jsxs("button",{onClick:()=>w(!0),className:"w-full py-3 bg-white/5 border border-white/10 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl hover:bg-white/10 transition-all shadow-lg flex items-center justify-center gap-2",children:[e.jsx(D,{className:"w-3.5 h-3.5"})," Selecionar Utilizador"]})})]})]}),_&&e.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-md",onClick:()=>!u&&w(!1)}),e.jsxs("div",{className:"relative w-full max-w-md bg-[#0c0c0c] border border-white/10 rounded-[24px] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-white/5 space-y-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-teal-400"})," Reforçar Colaborador"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Creditar saldo individual a partir da conta empresarial."})]}),e.jsx("div",{className:"p-8 space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Utilizador Destino"}),e.jsxs("select",{value:v,onChange:t=>J(t.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-500 transition-all text-sm appearance-none",children:[e.jsx("option",{value:"",children:"Selecione um utilizador..."}),be.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.email,")"]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Quantidade"}),e.jsx("input",{type:"number",placeholder:"Qtd. Créditos",value:y,onChange:t=>Q(t.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-500 transition-all font-mono text-sm"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 pt-2",children:[e.jsx("span",{children:"Saldo Empresa"}),e.jsx("span",{className:"text-cyan-500 font-mono font-bold",children:(a==null?void 0:a.credits)||0})]})]})}),e.jsxs("div",{className:"p-6 bg-white/[0.02] flex gap-3",children:[e.jsx("button",{onClick:()=>w(!1),disabled:u,className:"flex-1 py-3 text-xs font-bold text-slate-500 hover:text-white transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:Ne,disabled:u||!v||!y,className:"flex-[2] py-3 bg-gradient-to-r from-teal-600 to-emerald-600 text-white font-black text-xs uppercase tracking-widest rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-lg disabled:opacity-50",children:[u?e.jsx(f,{className:"w-4 h-4 animate-spin"}):e.jsx(k,{className:"w-4 h-4 fill-current"}),u?"Transferindo...":"Confirmar Transferência"]})]})]})]}),e.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between bg-[#0c0c0c]",children:[e.jsxs("h3",{className:"font-bold text-white flex items-center gap-3",children:[e.jsx(ze,{className:"w-5 h-5 text-slate-500"}),"Histórico de Transações"]}),e.jsx("button",{onClick:ke,disabled:m.length===0,className:"text-xs font-bold text-cyan-400 hover:text-white transition-colors uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed",children:"Exportar Extrato (PDF)"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[e.jsx("thead",{className:"bg-white/[0.02] text-[10px] uppercase font-bold text-slate-600 tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5",children:"Data/Hora"}),e.jsx("th",{className:"px-8 py-5",children:"Usuário"}),e.jsx("th",{className:"px-8 py-5",children:"Tipo"}),e.jsx("th",{className:"px-8 py-5",children:"Status"}),e.jsx("th",{className:"px-8 py-5",children:"Descrição"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"Movimento"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:ie?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-8 py-12 text-center text-slate-600",children:[e.jsx(f,{className:"w-6 h-6 animate-spin mx-auto mb-2 opacity-50"}),"Carregando..."]})}):m.length>0?m.map(t=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsxs("td",{className:"px-8 py-5 font-mono text-xs text-slate-500",children:[t.date.toLocaleDateString("pt-AO")," ",e.jsx("span",{className:"text-slate-700 ml-2",children:t.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"px-8 py-5 text-xs text-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/5 flex items-center justify-center text-[10px] font-bold text-slate-400 border border-white/5",children:(t.userName||"S").charAt(0).toUpperCase()}),t.userName||"Sistema"]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded uppercase tracking-wider 
                                            ${["TOPUP","PLAN_UPGRADE","PURCHASE","BONUS","TRANSFER_IN"].includes(t.type)?"bg-emerald-500/10 text-emerald-500":["TRANSFER_OUT","DEBIT"].includes(t.type)?"bg-red-500/10 text-red-500":"bg-slate-800 text-slate-400"}`,children:t.type==="TRANSFER_OUT"?"TRANSFERÊNCIA (ENVIO)":t.type==="TRANSFER_IN"?"TRANSFERÊNCIA (RECEBIDO)":t.type==="PLAN_UPGRADE"?"UPGRADE PLANO":t.type==="TOPUP"?"RECARGA":t.type})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:`text-[9px] font-bold px-2 py-1 rounded-lg border ${t.status==="COMPLETED"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":t.status==="PENDING_APPROVAL"?"bg-amber-500/10 text-amber-500 border-amber-500/20":t.status==="REJECTED"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-slate-500/10 text-slate-400 border-white/5"}`,children:t.status==="COMPLETED"?"CONCLUÍDO":t.status==="PENDING_APPROVAL"?"PENDENTE":t.status==="REJECTED"?"REJEITADO":t.status})}),e.jsx("td",{className:"px-8 py-5 text-white font-medium",children:t.description}),e.jsxs("td",{className:`px-8 py-5 text-right font-mono font-bold text-lg 
                                        ${["TRANSFER_OUT","DEBIT"].includes(t.type)||t.credits<0?"text-red-400":"text-emerald-400"}`,children:[["TRANSFER_OUT","DEBIT"].includes(t.type)||t.credits<0?"":"+",t.credits.toLocaleString("pt-AO")]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-8 py-12 text-center text-slate-600",children:"Nenhuma transação encontrada."})})})]})}),b>1&&e.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-between items-center bg-[#0c0c0c]",children:[e.jsx("button",{onClick:()=>B(t=>Math.max(1,t-1)),disabled:h===1,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white rounded-lg text-xs font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Anterior"}),e.jsxs("span",{className:"text-slate-500 text-xs font-mono",children:["Página ",e.jsx("span",{className:"text-white",children:h})," de ",e.jsx("span",{className:"text-slate-400",children:b})]}),e.jsx("button",{onClick:()=>B(t=>Math.min(b,t+1)),disabled:h===b,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white rounded-lg text-xs font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Próxima"})]})]})]})};export{at as default};
