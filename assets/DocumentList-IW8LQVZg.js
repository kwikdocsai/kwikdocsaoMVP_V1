const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DGClD9bb.js","assets/index-CLM23Pdi.css"])))=>i.map(i=>d[i]);
import{d as U,j as e,R as Ge,a as He,r as i,g as ge,h as Ke,F as se,D as m,i as we,_ as We,k as qe}from"./index-DGClD9bb.js";import{a as ae}from"./formatters-DUYcZ69c.js";import{A as Ae}from"./AnalysisViewer-AdAz6CnB.js";import{C as oe}from"./circle-check-DoWkVmXl.js";import{O as Ce}from"./octagon-alert-DLITgaW5.js";import{X as Q}from"./x-DXSFMCis.js";import{T as ie}from"./triangle-alert-DQX_sNut.js";import{F as Se}from"./file-exclamation-point-Bw1nTtJA.js";import{T as ke}from"./trash-2-BLuK7MLh.js";import{E as Ye}from"./jspdf.es.min-B50_oRUG.js";import{a as Xe}from"./jspdf.plugin.autotable-DNdIjHNC.js";import{u as re,w as Je}from"./xlsx-3SA47z_C.js";import{C as Ne}from"./chevron-left-BnVUoMjQ.js";import{D as ye}from"./download-MrcltSY2.js";import{S as je,a as ve}from"./square-Doh1WTas.js";import{C as De}from"./circle-alert-B6PDaTPC.js";import{U as Te}from"./user-Dk73SgFr.js";import{E as Qe}from"./eye-CNaavIhp.js";import{C as Ze}from"./chevron-right-8TFp7Mkr.js";import"./target-Cg8j0rFY.js";import"./bot-DhE8vvr-.js";import"./scale-ge8dWdkJ.js";import"./siren-dG7MTt09.js";import"./chevron-up-BT3CgOwV.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],tt=U("file-spreadsheet",et);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],at=U("file",st);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],lt=U("layout-list",rt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ot=U("maximize-2",nt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],le=U("monitor",it);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],ct=U("table",dt),xt=({document:c,isOpen:l,onClose:A})=>{if(!l||!c||!c.data)return null;const{data:w}=c,b=w.fiscal_validation==="APROVADO";return e.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-[#020202]/95 backdrop-blur-sm animate-in fade-in duration-300 w-screen h-screen overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/5 bg-[#080808] flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-xl border flex items-center justify-center shadow-lg ${b?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:b?e.jsx(oe,{className:"w-5 h-5"}):e.jsx(Ce,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-white tracking-tight",children:"Workstation de Validação"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-mono uppercase tracking-widest",children:c.id})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"p-2 text-slate-500 hover:text-white transition-colors hidden md:block",children:e.jsx(ot,{className:"w-5 h-5"})}),e.jsx("button",{onClick:A,className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 hover:text-white transition-colors border border-transparent hover:border-white/5",children:e.jsx(Q,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#020202] relative flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),e.jsx("div",{className:"flex-1 p-4 md:p-8 max-w-[1920px] mx-auto w-full relative z-10",children:e.jsx(Ae,{document:c})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-white/5 bg-[#080808] flex justify-end items-center gap-4 flex-shrink-0",children:[e.jsx("button",{onClick:A,className:"px-6 py-3 rounded-xl border border-white/10 text-white font-bold text-xs uppercase tracking-widest hover:bg-white/5 transition-colors",children:"Fechar"}),e.jsx("button",{onClick:A,className:"px-8 py-3 rounded-xl bg-white text-black font-black text-xs uppercase tracking-widest hover:bg-cyan-50 transition-all shadow-lg hover:shadow-white/20",children:"Concluir Revisão"})]})]})},mt=({isOpen:c,onClose:l,onConfirm:A,count:w,title:b="Zona de Perigo",description:p="Você está prestes a remover itens permanentemente.",itemType:k="itens"})=>{const[u,n]=Ge.useState(!1);if(!c)return null;const y=async()=>{n(!0);try{await A(),l()}finally{n(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:l}),e.jsxs("div",{className:"relative w-full max-w-md bg-[#0f111a] border border-red-500/20 rounded-2xl shadow-[0_0_50px_rgba(239,68,68,0.2)] flex flex-col animate-in fade-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-red-500/5 border-b border-red-500/10 flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-red-500/10 rounded-full text-red-500 border border-red-500/20 flex-shrink-0",children:e.jsx(ie,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:b}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:p})]}),e.jsx("button",{onClick:l,className:"ml-auto text-slate-500 hover:text-white",children:e.jsx(Q,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"bg-red-500/5 border border-red-500/10 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-red-400 uppercase",children:[e.jsx(Se,{className:"w-4 h-4"})," Ação Irreversível"]}),e.jsxs("ul",{className:"text-sm text-slate-300 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsxs("span",{className:"font-bold text-white",children:[w," ",k]})," selecionado(s) será(ão) removido(s)."]}),e.jsx("li",{children:"Esta ação não pode ser desfeita."})]})]})}),e.jsxs("div",{className:"p-4 bg-[#05060a] border-t border-white/5 flex justify-end gap-3",children:[e.jsx("button",{onClick:l,disabled:u,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-white/5 font-medium transition-colors disabled:opacity-50",children:"Cancelar"}),e.jsx("button",{onClick:y,disabled:u,className:"px-4 py-2 rounded-xl bg-red-500 text-white font-bold hover:bg-red-600 transition-all shadow-[0_0_20px_rgba(239,68,68,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?"Processando...":e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4"})," Confirmar Exclusão"]})})]})]})]})},ht=(c,l,A)=>{var I,$,B,z;const w=a=>a?new Date(a).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],b=a=>a?new Date(a).toISOString().split(".")[0]:new Date().toISOString().split(".")[0],p=`
    <Header>
        <AuditFileVersion>1.01_AO</AuditFileVersion>
        <CompanyID>${A}</CompanyID>
        <TaxRegistrationNumber>${A}</TaxRegistrationNumber>
        <TaxAccountingBasis>F</TaxAccountingBasis>
        <CompanyName>${l}</CompanyName>
        <BusinessName>${l}</BusinessName>
        <CompanyAddress>
            <AddressDetail>Luanda, Angola</AddressDetail>
            <City>Luanda</City>
            <Country>AO</Country>
        </CompanyAddress>
        <FiscalYear>${new Date().getFullYear()}</FiscalYear>
        <StartDate>${w((($=(I=c[c.length-1])==null?void 0:I.data)==null?void 0:$.date)||new Date)}</StartDate>
        <EndDate>${w(((z=(B=c[0])==null?void 0:B.data)==null?void 0:z.date)||new Date)}</EndDate>
        <CurrencyCode>AOA</CurrencyCode>
        <DateCreated>${w(new Date)}</DateCreated>
        <TaxEntity>Global</TaxEntity>
        <ProductCompanyTaxID>999999999</ProductCompanyTaxID>
        <SoftwareCertificateNumber>0</SoftwareCertificateNumber>
        <ProductID>KwikDocs/AI</ProductID>
        <ProductVersion>1.0.0</ProductVersion>
    </Header>`,k=new Map;c.forEach(a=>{var S,R,D,L,O,V;const v=((R=(S=a.data)==null?void 0:S.client_data)==null?void 0:R.name)||"Cliente Final",N=((L=(D=a.data)==null?void 0:D.client_data)==null?void 0:L.nif)||"999999999",_=N==="999999999"?"ConsumidorFinal":N;k.has(_)||k.set(_,{CustomerID:_,AccountID:"CLIENTES",CustomerTaxID:N,CompanyName:v,BillingAddress:{AddressDetail:((V=(O=a.data)==null?void 0:O.client_data)==null?void 0:V.address)||"Desconhecido",City:"Luanda",Country:"AO"},SelfBillingIndicator:0})});let u="";k.forEach(a=>{u+=`
        <Customer>
            <CustomerID>${a.CustomerID}</CustomerID>
            <AccountID>${a.AccountID}</AccountID>
            <CustomerTaxID>${a.CustomerTaxID}</CustomerTaxID>
            <CompanyName>${a.CompanyName}</CompanyName>
            <BillingAddress>
                <AddressDetail>${a.BillingAddress.AddressDetail}</AddressDetail>
                <City>${a.BillingAddress.City}</City>
                <Country>${a.BillingAddress.Country}</Country>
            </BillingAddress>
            <SelfBillingIndicator>${a.SelfBillingIndicator}</SelfBillingIndicator>
        </Customer>`});const y=`
    <MasterFiles>
        ${u}
        
        <Product>
            <ProductType>S</ProductType>
            <ProductCode>SERVICO</ProductCode>
            <ProductDescription>Serviços Diversos</ProductDescription>
            <ProductNumberCode>SERVICO</ProductNumberCode>
        </Product>
        <TaxTable>
            <TaxTableEntry>
                <TaxType>IVA</TaxType>
                <TaxCountryRegion>AO</TaxCountryRegion>
                <TaxCode>NOR</TaxCode>
                <Description>Taxa Normal</Description>
                <TaxPercentage>14.00</TaxPercentage>
            </TaxTableEntry>
        </TaxTable>
    </MasterFiles>`;let F="",j=0;c.forEach(a=>{var D,L,O,V,P,G,E,W;const v=((D=a.data)==null?void 0:D.totalAmount)||0,N=v/1.14,_=v-N,S=(L=a.data)!=null&&L.date?b(a.data.date):b(a.uploadDate),R=a.fileName.substring(0,20)||`FT ${a.id.substring(0,8)}`;j+=v,F+=`
        <Invoice>
            <InvoiceNo>${R}</InvoiceNo>
            <DocumentStatus>
                <InvoiceStatus>N</InvoiceStatus>
                <InvoiceStatusDate>${b(new Date)}</InvoiceStatusDate>
                <SourceID>${a.uploadedBy||"User"}</SourceID>
                <SourceBilling>P</SourceBilling>
            </DocumentStatus>
            <Hash>0</Hash> <!-- Hash is mocked as we are reconstructing -->
            <HashControl>0</HashControl>
            <Period>${new Date().getMonth()+1}</Period>
            <InvoiceDate>${S.split("T")[0]}</InvoiceDate>
            <InvoiceType>FT</InvoiceType>
            <SpecialRegimes>
                <SelfBillingIndicator>0</SelfBillingIndicator>
                <CashVATSchemeIndicator>0</CashVATSchemeIndicator>
                <ThirdPartiesBillingIndicator>0</ThirdPartiesBillingIndicator>
            </SpecialRegimes>
            <SourceID>${a.uploadedBy||"System"}</SourceID>
            <SystemEntryDate>${b(a.uploadDate)}</SystemEntryDate>
            <CustomerID>${((V=(O=a.data)==null?void 0:O.client_data)==null?void 0:V.nif)==="999999999"?"ConsumidorFinal":((G=(P=a.data)==null?void 0:P.client_data)==null?void 0:G.nif)||"ConsumidorFinal"}</CustomerID>
            <Line>
                <LineNumber>1</LineNumber>
                <ProductCode>SERVICO</ProductCode>
                <ProductDescription>${((E=a.data)==null?void 0:E.category)||"Serviços"}</ProductDescription>
                <Quantity>1</Quantity>
                <UnitOfMeasure>Un</UnitOfMeasure>
                <UnitPrice>${N.toFixed(2)}</UnitPrice>
                <TaxPointDate>${S.split("T")[0]}</TaxPointDate>
                <References>
                    <Reference>${a.id}</Reference>
                </References>
                <Description>${((W=a.data)==null?void 0:W.category)||"Serviços"}</Description>
                <DebitAmount>0.00</DebitAmount>
                <CreditAmount>${N.toFixed(2)}</CreditAmount>
                <Tax>
                    <TaxType>IVA</TaxType>
                    <TaxCountryRegion>AO</TaxCountryRegion>
                    <TaxCode>NOR</TaxCode>
                    <TaxPercentage>14.00</TaxPercentage>
                </Tax>
                <SettlementAmount>0.00</SettlementAmount>
            </Line>
            <DocumentTotals>
                <TaxPayable>${_.toFixed(2)}</TaxPayable>
                <NetTotal>${N.toFixed(2)}</NetTotal>
                <GrossTotal>${v.toFixed(2)}</GrossTotal>
            </DocumentTotals>
        </Invoice>`});const C=`
    <SourceDocuments>
        <SalesInvoices>
            <NumberOfEntries>${c.length}</NumberOfEntries>
            <TotalDebit>0.00</TotalDebit>
            <TotalCredit>${j.toFixed(2)}</TotalCredit>
            ${F}
        </SalesInvoices>
    </SourceDocuments>`;return`<?xml version="1.0" encoding="UTF-8"?>
<AuditFile xmlns="urn:OECD:StandardAuditFile-Tax:AO_1.01_01" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    ${p}
    ${y}
    ${C}
</AuditFile>`},ne=10,ut=async(c,l,A,w)=>{if(await new Promise(n=>setTimeout(n,400)),!c||!Array.isArray(c))return{data:[],total:0,allFiltered:[]};let b=c.filter(n=>{var N,_,S,R;if(!n)return!1;const y=((N=n.data)==null?void 0:N.merchantName)||n.companyName||"",F=n.fileName||"",j=((S=(_=n.data)==null?void 0:_.totalAmount)==null?void 0:S.toString())||"",C=(l.search||"").toLowerCase(),I=y.toLowerCase().includes(C)||F.toLowerCase().includes(C)||j.includes(C),$=l.status==="ALL"||(l.status===m.COMPLETED?n.status===m.COMPLETED||n.status===m.APROVADO:l.status===m.REJEITADO?n.status===m.REJEITADO||n.status===m.ERROR:n.status===l.status),B=l.type==="ALL"||(((R=n.data)==null?void 0:R.category)||"OUTROS")===l.type,z=l.company==="ALL"||n.companyId===l.company,a=l.user==="ALL"||n.responsible_user_id===l.user||l.user==="AI"&&!n.responsible_user_id;let v=!0;if(l.month!=="ALL"&&n.uploadDate){const D=new Date(n.uploadDate),L=new Date().getFullYear();isNaN(D.getTime())||(v=D.getMonth()===parseInt(l.month)&&D.getFullYear()===L)}return I&&$&&B&&v&&z&&a});b.sort((n,y)=>{const F=n.uploadDate?new Date(n.uploadDate).getTime():0;return(y.uploadDate?new Date(y.uploadDate).getTime():0)-F});const p=b.length,k=(A-1)*w;return{data:b.slice(k,k+w),total:p,allFiltered:b}},Ht=()=>{const{documents:c,isAccountingMode:l,clients:A,setFullscreenMode:w,refreshData:b,selectedCompany:p,stopNotificationSound:k}=He(),[u,n]=i.useState(null),[y,F]=i.useState(!1),[j,C]=i.useState("TABLE"),[I,$]=i.useState(""),[B,z]=i.useState(""),[a,v]=i.useState("ALL"),[N,_]=i.useState("ALL"),[S,R]=i.useState("ALL"),[D,L]=i.useState("ALL"),[O,V]=i.useState("ALL"),[P,G]=i.useState(1),[E,W]=i.useState([]),[T,Ee]=i.useState([]),[q,Ie]=i.useState(0),[H,Z]=i.useState(!0),[pt,_e]=i.useState({total:0,totalValue:0,validated:0}),[x,K]=i.useState(new Set),[de,ft]=i.useState(!1),[bt,gt]=i.useState(!1),[Y,ee]=i.useState(-1),[wt,Nt]=i.useState(null),[Le,ce]=i.useState(!1),[xe,X]=i.useState(!1),Oe=()=>{const t=x.size>0?T.filter(o=>x.has(o.id)):T,s=new Ye;s.setFontSize(18),s.text("Relatório de Documentos Fiscais",14,22),s.setFontSize(10),s.text(`Gerado em: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,14,30),s.text(`Total de Registros: ${t.length}`,14,35),l&&p!=="ALL"&&s.text(`Empresa: ${(p==null?void 0:p.name)||"N/A"}`,14,40);const r=t.map(o=>{var d,f,h,g;return[((d=o.data)==null?void 0:d.merchantName)||o.fileName,((f=o.data)==null?void 0:f.category)||"Geral",((h=o.data)==null?void 0:h.date)||"-",o.status,ae(((g=o.data)==null?void 0:g.totalAmount)||0)]});Xe(s,{head:[["Documento","Categoria","Data","Status","Valor total"]],body:r,startY:45,styles:{fontSize:8},headStyles:{fillColor:[6,182,212]}}),s.save(`relatorio_${new Date().getTime()}.pdf`),X(!1)},Fe=()=>{const s=(x.size>0?T.filter(d=>x.has(d.id)):T).map(d=>{var f,h,g,M,he,ue,pe,fe,be;return{"Nome do Arquivo":d.fileName,Comerciante:((f=d.data)==null?void 0:f.merchantName)||"-","NIF Comerciante":((g=(h=d.data)==null?void 0:h.issuer_data)==null?void 0:g.nif)||"-",Categoria:((M=d.data)==null?void 0:M.category)||"Geral","Data Emissão":((he=d.data)==null?void 0:he.date)||"-",Status:d.status,"Total Declarado":((pe=(ue=d.rawData)==null?void 0:ue.analise_matematica)==null?void 0:pe.total_declarado)||0,"Total Recalculado":((fe=d.data)==null?void 0:fe.totalAmount)||0,"Validação Fiscal":((be=d.data)==null?void 0:be.fiscal_validation)||"-","Empresa ID":d.companyId}}),r=re.json_to_sheet(s),o=re.book_new();re.book_append_sheet(o,r,"Documentos"),Je(o,`exportacao_${new Date().getTime()}.xlsx`),X(!1)},Re=()=>{const t=x.size>0?T.filter(g=>x.has(g.id)):T;if(t.length===0){alert("Nenhum documento disponível para exportação.");return}const s=l&&p!=="ALL"&&(p==null?void 0:p.name)||"Empresa Exemplo",r=(p==null?void 0:p.nif)||"999999999",o=ht(t,s,r),d=new Blob([o],{type:"application/xml"}),f=URL.createObjectURL(d),h=document.createElement("a");h.href=f,h.download=`SAFT_AO_${s.replace(/\s+/g,"_")}_${new Date().getTime()}.xml`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(f),X(!1)},Pe=async()=>{try{await Promise.all(Array.from(x).map(t=>qe.deleteDocument(t))),await b()}catch(t){console.error(t),alert("Erro ao excluir alguns documentos.")}finally{K(new Set)}};i.useEffect(()=>(w(j==="WORKSTATION"),()=>w(!1)),[j,w]),i.useEffect(()=>{const t=s=>{if(!(y||H))if(s.key==="ArrowDown")s.preventDefault(),ee(r=>Math.min(r+1,E.length-1));else if(s.key==="ArrowUp")s.preventDefault(),ee(r=>Math.max(r-1,0));else if(s.key==="Enter"&&Y>=0){s.preventDefault();const r=E[Y];r&&te(r)}else s.key==="Escape"&&j==="WORKSTATION"&&C("TABLE")};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[E,y,H,Y,j]),i.useEffect(()=>{const t=setTimeout(()=>z(I),400);return()=>clearTimeout(t)},[I]),i.useEffect(()=>{let t=!0;return(async()=>{try{Z(!0);const o=await ut(c,{search:B,status:a,type:N,month:S,company:l?D:"ALL",user:O},P,ne);if(t){W(o.data),Ee(o.allFiltered),Ie(o.total);const d=o.allFiltered.reduce((h,g)=>{var M;return h+(((M=g.data)==null?void 0:M.totalAmount)||0)},0),f=o.allFiltered.filter(h=>{var g;return h.status===m.COMPLETED&&((g=h.data)==null?void 0:g.fiscal_validation)!=="REJEITADO"}).length;_e({total:o.total,totalValue:d,validated:f}),Z(!1)}}catch{t&&Z(!1)}})(),()=>{t=!1}},[c,B,a,N,S,D,O,P,l]);const Me=i.useMemo(()=>{const t=new Map;return c.forEach(s=>{s.responsible_user_id&&s.responsible_user_name&&t.set(s.responsible_user_id,s.responsible_user_name)}),Array.from(t.entries()).map(([s,r])=>({id:s,name:r}))},[c]),te=async t=>{console.log("DEBUG: handleViewAnalysis clicked for:",t.id),k();let s=t;if(!t.fileBase64&&t.fileUrl==="DB_STORED"){console.log("DEBUG: Fetching full doc logic triggered");try{const{documentService:r}=await We(async()=>{const{documentService:o}=await import("./index-DGClD9bb.js").then(d=>d.Q);return{documentService:o}},__vite__mapDeps([0,1]));s=await r.getDocumentById(t.id),console.log("DEBUG: Full doc fetched:",s?"YES":"NO")}catch(r){console.error("DEBUG: Failed to load full document details:",r)}}else console.log("DEBUG: Document already has base64 or not DB_STORED",!!t.fileBase64,t.fileUrl);console.log("DEBUG: Setting selected document and view mode"),n(s),C("WORKSTATION")},$e=()=>{F(!1),setTimeout(()=>n(null),300)},Be=t=>{const s=new Set(x);s.has(t)?s.delete(t):s.add(t),K(s)},Ve=()=>{if(x.size===T.length&&T.length>0)K(new Set);else{const t=new Set(T.map(s=>s.id));K(t)}},me=(t,s=!1)=>{const r=t.status;if(r===m.APROVADO_USUARIO)return e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-cyan-500/10 text-cyan-400 border border-cyan-500/20 uppercase tracking-wider",children:[e.jsx(Te,{className:"w-2.5 h-2.5"})," ",!s&&"Aprovado (Manual)"]});if(r===m.COMPLETED||r===m.APROVADO)return e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 uppercase tracking-wider",children:[e.jsx(oe,{className:"w-2.5 h-2.5"})," ",!s&&"Aprovado"]});if(r===m.REJEITADO)return e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-red-500/10 text-red-400 border border-red-500/20 uppercase tracking-wider",children:[e.jsx(Ce,{className:"w-2.5 h-2.5"})," ",!s&&"Rejeitado"]});if(r===m.PROCESSING)return e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-blue-500/10 text-blue-400 border border-blue-500/20 animate-pulse uppercase tracking-wider",children:[e.jsx(we,{className:"w-2.5 h-2.5 animate-spin"})," ",!s&&"Em Análise"]});if(r===m.ERROR)return e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-red-500/10 text-red-400 border border-red-500/20 uppercase tracking-wider",children:[e.jsx(De,{className:"w-2.5 h-2.5"})," ",!s&&"Falha"]});const o={[m.ARCHIVED]:"Arquivado",[m.PENDING_REVIEW]:"Pendente"};return e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-slate-500/10 text-slate-400 border border-dashed border-white/10 uppercase tracking-wider",children:[e.jsx(se,{className:"w-2.5 h-2.5"})," ",!s&&(o[r]||r||"Pendente")]})},ze=()=>e.jsxs("tr",{className:"animate-pulse border-b border-white/5",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"w-4 h-4 bg-white/5 rounded"})}),e.jsx("td",{className:"px-4 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 w-32 bg-white/5 rounded"}),e.jsx("div",{className:"h-2 w-20 bg-white/5 rounded"})]})]})}),l&&e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-3 w-24 bg-white/5 rounded"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-6 w-20 bg-white/5 rounded-lg"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-3 w-20 bg-white/5 rounded"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-6 w-24 bg-white/5 rounded-full"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-3 w-20 bg-white/5 rounded"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-3 w-32 bg-white/5 rounded"})}),e.jsx("td",{className:"px-6 py-5 text-center",children:e.jsx("div",{className:"h-8 w-8 bg-white/5 rounded mx-auto"})})]}),[J,Ue]=i.useState(!1);return j==="WORKSTATION"?e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#020202] animate-in fade-in duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5 bg-[#080808] flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>C("TABLE"),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 hover:text-white transition-all flex items-center gap-2 group",children:[e.jsx(Ne,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Voltar ao Dashboard"})]}),e.jsx("div",{className:"h-6 w-px bg-white/10"}),e.jsx("button",{onClick:()=>Ue(!J),className:`p-2 hover:bg-white/10 rounded-xl text-slate-400 hover:text-cyan-400 transition-all ${J?"bg-cyan-500/10 text-cyan-400":""}`,title:J?"Mostrar Lista":"Ocultar Lista",children:e.jsx(lt,{className:"w-5 h-5"})}),e.jsx("div",{children:e.jsxs("h2",{className:"text-lg font-bold text-white tracking-tight flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5 text-cyan-400"})," Workstation Pro"]})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden md:block",children:["Documento ",T.findIndex(t=>t.id===(u==null?void 0:u.id))+1," de ",T.length]}),e.jsx("button",{onClick:()=>C("TABLE"),className:"p-2 bg-white/5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",children:e.jsx(Q,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[e.jsxs("div",{className:`
                            flex-shrink-0 border-r border-white/5 bg-[#050505] flex flex-col transition-all duration-300 ease-in-out
                            ${J?"w-0 opacity-0 overflow-hidden":"w-80 opacity-100"}
                        `,children:[e.jsx("div",{className:"p-4 border-b border-white/5",children:e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-3.5 h-3.5"}),e.jsx("input",{type:"text",placeholder:"Filtrar lista...",value:I,onChange:t=>$(t.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-cyan-500/50"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:T.map(t=>{var d,f,h,g,M;const s=(u==null?void 0:u.id)===t.id,o=(((f=(d=t.data)==null?void 0:d.decisao_final)==null?void 0:f.nivel_risco)||((h=t.data)==null?void 0:h.risk_level))==="ALTO";return e.jsxs("div",{onClick:()=>n(t),className:`p-3 rounded-xl cursor-pointer transition-all flex items-center gap-3 border ${s?"bg-cyan-500/10 border-cyan-500/30":"bg-transparent border-transparent hover:bg-white/5"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-xs font-bold ${s?"bg-cyan-500 text-black":"bg-slate-900 text-slate-500"}`,children:t.type===Ke.INVOICE?"FT":"RC"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-xs font-bold truncate ${s?"text-cyan-400":"text-slate-300"}`,children:((g=t.data)==null?void 0:g.merchantName)||t.fileName}),e.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[e.jsx("span",{className:"text-[9px] text-slate-500 font-mono",children:(M=t.data)!=null&&M.totalAmount?`${(t.data.totalAmount/1e3).toFixed(1)}k`:"-"}),e.jsxs("div",{className:"flex items-center gap-1",children:[o&&e.jsx(ie,{className:"w-3 h-3 text-red-500"}),me(t,!0)]})]})]})]},t.id)})})]}),e.jsx("div",{className:"flex-1 bg-[#020202] overflow-hidden relative flex flex-col h-full transition-all duration-300",children:u?e.jsx("div",{className:"flex-1 h-full w-full",children:e.jsx("div",{className:"h-full w-full p-4 md:p-6",children:e.jsx(Ae,{document:u})})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600",children:[e.jsx(le,{className:"w-16 h-16 mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Selecione um documento"})]})})]})]}):e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-24 relative",children:[y&&e.jsx(xt,{isOpen:y,document:u,onClose:$e}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6 bg-[#080808] border border-white/[0.03] p-6 md:p-8 rounded-[32px] relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Base de Dados Fiscal"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:"Arquivo Digital"})]}),e.jsx("div",{className:"flex items-center gap-2 md:gap-4 relative z-10 flex-wrap",children:e.jsxs("div",{className:"flex bg-[#111] p-1 rounded-xl border border-white/5 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>X(!xe),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-[10px] font-bold uppercase transition-all text-slate-500 hover:text-white",children:[e.jsx(ye,{className:"w-3.5 h-3.5"})," Exportar"]}),xe&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-[#111] border border-white/10 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[e.jsxs("button",{onClick:Oe,className:"w-full text-left px-4 py-3 text-xs text-slate-300 hover:bg-white/5 hover:text-white flex items-center gap-2",children:[e.jsx(se,{className:"w-3.5 h-3.5 text-red-400"})," Exportar PDF (",x.size>0?x.size:"Todos",")"]}),e.jsx("div",{className:"h-px bg-white/5 mx-2"}),e.jsxs("button",{onClick:Fe,className:"w-full text-left px-4 py-3 text-xs text-slate-300 hover:bg-white/5 hover:text-white flex items-center gap-2",children:[e.jsx(tt,{className:"w-3.5 h-3.5 text-emerald-400"})," Exportar Excel (",x.size>0?x.size:"Todos",")"]}),e.jsx("div",{className:"h-px bg-white/5 mx-2"}),e.jsxs("button",{onClick:Re,className:"w-full text-left px-4 py-3 text-xs text-slate-300 hover:bg-white/5 hover:text-white flex items-center gap-2",children:[e.jsx(at,{className:"w-3.5 h-3.5 text-amber-400"})," Exportar SAFT-AO"]})]})]}),e.jsx("div",{className:"w-px bg-white/10 my-1 mx-1"}),e.jsxs("button",{onClick:()=>C("TABLE"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-[10px] font-bold uppercase transition-all ${j==="TABLE"?"bg-white text-black":"text-slate-500 hover:text-white"}`,children:[e.jsx(ct,{className:"w-3.5 h-3.5"})," Tabela"]}),e.jsxs("button",{onClick:()=>{C("WORKSTATION"),E.length>0&&!u&&n(E[0])},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-[10px] font-bold uppercase transition-all ${j==="WORKSTATION"?"bg-white text-black shadow-[0_0_15px_rgba(255,255,255,0.2)]":"text-slate-500 hover:text-white"}`,children:[e.jsx(le,{className:"w-3.5 h-3.5"})," Pro-View"]})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-1.5 bg-[#080808] border border-white/[0.03] rounded-[20px]",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(ge,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 group-focus-within:text-white transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:I,onChange:t=>$(t.target.value),className:"w-full bg-[#111] border border-transparent rounded-2xl pl-11 pr-4 py-3 text-sm text-white placeholder-slate-600 focus:outline-none focus:bg-[#151515] transition-all font-medium"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto p-1 custom-scrollbar",children:[l&&e.jsxs("select",{value:D,onChange:t=>L(t.target.value),className:"bg-cyan-500/10 border border-cyan-500/20 rounded-xl text-xs font-bold text-cyan-400 px-4 py-2.5 focus:outline-none uppercase tracking-wider",children:[e.jsx("option",{value:"ALL",children:"Todas Empresas"}),A.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("select",{value:a,onChange:t=>v(t.target.value),className:"bg-[#151515] border border-white/5 rounded-xl text-xs font-bold text-slate-300 px-4 py-2.5 focus:outline-none uppercase tracking-wider",children:[e.jsx("option",{value:"ALL",children:"Todos os Status"}),e.jsx("option",{value:m.COMPLETED,children:"Válidos (IA)"}),e.jsx("option",{value:m.APROVADO_USUARIO,children:"Aprovados Manual"}),e.jsx("option",{value:m.REJEITADO,children:"Rejeitados"}),e.jsx("option",{value:m.PROCESSING,children:"Em Análise"}),e.jsx("option",{value:m.ERROR,children:"Com Erro"})]}),e.jsxs("select",{value:O,onChange:t=>V(t.target.value),className:"bg-[#151515] border border-white/5 rounded-xl text-xs font-bold text-slate-300 px-4 py-2.5 focus:outline-none uppercase tracking-wider",children:[e.jsx("option",{value:"ALL",children:"Todos Responsáveis"}),e.jsx("option",{value:"AI",children:"Processado por IA"}),Me.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]}),e.jsx("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden shadow-2xl relative min-h-[400px]",children:!H&&E.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center relative z-10 h-full",children:[e.jsx("div",{className:"w-20 h-20 bg-[#111] rounded-full flex items-center justify-center mb-4 border border-white/5",children:e.jsx(Se,{className:"w-8 h-8 text-slate-500 opacity-50"})}),e.jsx("h3",{className:"text-white font-bold text-xl",children:"Nenhum documento encontrado"})]}):e.jsx("div",{className:"overflow-x-auto relative z-10",children:e.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[e.jsx("thead",{className:"bg-[#0c0c0c] text-[10px] uppercase font-bold text-slate-500 border-b border-white/5 tracking-widest",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 w-12",children:e.jsx("button",{onClick:Ve,className:"flex items-center text-slate-500 hover:text-white transition-colors group",children:x.size>0?x.size===T.length?e.jsx(je,{className:"w-4 h-4 text-cyan-500"}):e.jsx("div",{className:"w-4 h-4 bg-cyan-500/20 rounded border border-cyan-500 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-0.5 bg-cyan-500 rounded-full"})}):e.jsx(ve,{className:"w-4 h-4 group-hover:text-slate-300"})})}),e.jsx("th",{className:"px-4 py-5",children:"Documento"}),e.jsx("th",{className:"px-6 py-5",children:"Valor Total"}),e.jsx("th",{className:"px-6 py-5 hidden md:table-cell",children:"IVA (Imposto)"}),e.jsx("th",{className:"px-6 py-5",children:"Análise de Risco"}),e.jsx("th",{className:"px-6 py-5",children:"Estado Fiscal"}),e.jsx("th",{className:"px-6 py-5 hidden lg:table-cell",children:"Responsável"}),e.jsx("th",{className:"px-6 py-5 text-center",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:H?Array(5).fill(0).map((t,s)=>e.jsx(ze,{},s)):E.map((t,s)=>{var r,o,d;return e.jsxs("tr",{onClick:()=>{ee(s),te(t)},className:`transition-colors group relative cursor-pointer ${x.has(t.id)?"bg-cyan-500/5":"hover:bg-white/[0.02]"} ${s===Y?"bg-white/[0.04] shadow-[inset_3px_0_0_0_#06b6d4]":""}`,children:[e.jsx("td",{className:"px-6 py-5",onClick:f=>f.stopPropagation(),children:e.jsx("button",{onClick:()=>Be(t.id),className:"flex items-center text-slate-600 hover:text-white transition-colors",children:x.has(t.id)?e.jsx(je,{className:"w-4 h-4 text-cyan-500"}):e.jsx(ve,{className:"w-4 h-4"})})}),e.jsx("td",{className:"px-4 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#151515] flex items-center justify-center border border-white/5 group-hover:border-cyan-500/30 group-hover:text-cyan-400 transition-all",children:e.jsx(se,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white text-sm truncate max-w-[200px]",children:((r=t.data)==null?void 0:r.merchantName)||t.fileName}),e.jsx("p",{className:"text-[9px] font-mono text-slate-500 uppercase",children:t.fileName})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-emerald-400 font-bold text-xs",children:ae(t.valor_documento??((o=t.data)==null?void 0:o.totalAmount)??0)})}),e.jsx("td",{className:"px-6 py-5 hidden md:table-cell",children:e.jsx("span",{className:"text-slate-300 font-mono text-xs",children:ae(t.valor_iva??((d=t.data)==null?void 0:d.taxAmount)??0)})}),e.jsx("td",{className:"px-6 py-5",children:t.compliance_level==="ALTO"||t.compliance_level==="ALERTA"?e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-red-500/10 border border-red-500/20 rounded-full w-fit",children:[e.jsx(ie,{className:"w-3 h-3 text-red-500"}),e.jsx("span",{className:"text-[9px] font-bold text-red-400 uppercase",children:"Risco Alto"})]}):t.compliance_level==="MEDIO"?e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-amber-500/10 border border-amber-500/20 rounded-full w-fit",children:[e.jsx(De,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-[9px] font-bold text-amber-400 uppercase",children:"Médio"})]}):e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-full w-fit",children:[e.jsx(oe,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-[9px] font-bold text-emerald-400 uppercase",children:"Conforme"})]})}),e.jsx("td",{className:"px-6 py-5",children:me(t)}),e.jsx("td",{className:"px-6 py-5 hidden lg:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20 group-hover:border-cyan-500/40 transition-colors",children:e.jsx(Te,{className:"w-3.5 h-3.5 text-cyan-400"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-200 truncate max-w-[100px]",children:t.responsible_user_name||"IA Sentinela"}),e.jsx("span",{className:"text-[8px] text-slate-500 uppercase tracking-tighter",children:"Analista"})]})]})}),e.jsx("td",{className:"px-6 py-5 text-center",children:e.jsx("button",{title:"Ver Análise",onClick:f=>{f.stopPropagation(),te(t)},className:"p-2 rounded-lg bg-[#111] text-slate-500 hover:text-cyan-400 transition-colors",children:e.jsx(Qe,{className:"w-4 h-4"})})})]},t.id)})})]})})}),!H&&q>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 bg-[#080808] border border-white/[0.03] rounded-[20px] p-4 gap-4",children:[e.jsxs("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:["Total: ",q," registros"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>G(t=>Math.max(1,t-1)),disabled:P===1,className:"px-4 py-2 rounded-xl bg-[#111] border border-white/5 text-xs font-bold text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:e.jsx(Ne,{className:"w-3 h-3"})}),e.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Pág. ",e.jsx("span",{className:"text-cyan-400 font-bold",children:P})]}),e.jsx("button",{onClick:()=>G(t=>Math.min(Math.ceil(q/ne),t+1)),disabled:P===Math.ceil(q/ne),className:"px-4 py-2 rounded-xl bg-[#111] border border-white/5 text-xs font-bold text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:e.jsx(Ze,{className:"w-3 h-3"})})]})]}),x.size>0&&e.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] bg-[#0a0a0c]/90 backdrop-blur-xl border border-white/10 rounded-full px-6 py-3 shadow-2xl flex items-center gap-6 animate-in slide-in-from-bottom-10 fade-in duration-300",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[x.size," selecionado(s)"]}),e.jsx("div",{className:"h-6 w-px bg-white/10"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"bg-[#111] hover:bg-white/10 text-slate-300 hover:text-white px-4 py-2 rounded-full text-xs font-bold uppercase transition-colors flex items-center gap-2",onClick:()=>{alert("Exportando seleção...")},children:[e.jsx(ye,{className:"w-3.5 h-3.5"})," Exportar"]}),e.jsxs("button",{className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 px-4 py-2 rounded-full text-xs font-bold uppercase transition-colors flex items-center gap-2",disabled:de,onClick:()=>ce(!0),children:[de?e.jsx(we,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ke,{className:"w-3.5 h-3.5"})," Deletar"]})]}),e.jsx("button",{onClick:()=>K(new Set),className:"ml-2 w-6 h-6 rounded-full hover:bg-white/10 flex items-center justify-center text-slate-500 hover:text-white transition-colors",children:e.jsx(Q,{className:"w-3.5 h-3.5"})})]}),e.jsx(mt,{isOpen:Le,onClose:()=>ce(!1),onConfirm:Pe,count:x.size,title:"Excluir Documentos",description:"Tem certeza que deseja excluir os documentos selecionados? Esta ação não pode ser desfeita.",itemType:"documentos"})]})};export{Ht as default};
