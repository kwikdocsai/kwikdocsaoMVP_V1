import{a as u,r,j as e,i as h,p as b}from"./index-J78_TlI6.js";import{L as f}from"./lock-DgIayHkA.js";import{K as w}from"./key-BALPsR4q.js";import{C as g}from"./check-ZPcCtyic.js";import{T as v}from"./triangle-alert-CKc6-SxM.js";const C=()=>{const{refreshData:d}=u(),[t,c]=r.useState(""),[l,x]=r.useState(""),[o,n]=r.useState(!1),[i,s]=r.useState(""),m=async a=>{if(a.preventDefault(),s(""),t.length<6){s("A senha deve ter pelo menos 6 caracteres.");return}if(t!==l){s("As senhas não coincidem.");return}n(!0);try{await b.changePassword(t),await d(!0),window.location.reload()}catch(p){s(p.message||"Erro ao alterar a senha."),n(!1)}};return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 sm:p-6 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-md bg-[#0c0c0c] border border-red-500/30 rounded-[32px] p-6 sm:p-8 shadow-[0_0_100px_rgba(239,68,68,0.2)] animate-in zoom-in-95 duration-500 relative overflow-hidden my-auto",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-40 bg-red-500/10 blur-[80px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500/20 to-red-900/20 border border-red-500/30 flex items-center justify-center mb-6 shadow-inner",children:e.jsx(f,{className:"w-8 h-8 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-black text-white tracking-tighter uppercase",children:"Segurança Obrigatória"}),e.jsx("p",{className:"text-slate-400 text-sm mt-3 leading-relaxed",children:"Para sua segurança, é necessário definir uma nova palavra-passe antes de continuar a utilizar a plataforma."}),e.jsxs("form",{onSubmit:m,className:"w-full mt-8 space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Nova Palavra-passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600"}),e.jsx("input",{type:"password",value:t,onChange:a=>c(a.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-slate-800 text-sm focus:border-red-500/50 outline-none transition-all",placeholder:"••••••••",required:!0})]})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Confirmar Palavra-passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600"}),e.jsx("input",{type:"password",value:l,onChange:a=>x(a.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-slate-800 text-sm focus:border-red-500/50 outline-none transition-all",placeholder:"••••••••",required:!0})]})]}),i&&e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-2 text-red-400 text-xs font-bold animate-in fade-in slide-in-from-top-2",children:[e.jsx(v,{className:"w-4 h-4 flex-shrink-0"}),i]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 bg-white text-black font-black uppercase tracking-[0.2em] text-xs rounded-xl hover:bg-red-500 hover:text-white transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-red-500/30 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:o?e.jsx(h,{className:"w-5 h-5 animate-spin mx-auto"}):"DEFINIR NOVA SENHA"})]})]})]})})};export{C as default};
