import{d as $,r as t,j as e,g as ke,f as F,n as g,t as Be,a as qe,u as ie,v as ne,w as oe,E as ce,x as de,y as xe,A as He,l as Ke,B as U,F as Ye,S as We,i as M,L as Ze,s as Je}from"./index-BpXQhJ2T.js";import{C as Qe}from"./clock-CJBqh6BF.js";import{T as Z}from"./terminal-GrFky_gW.js";import{U as me}from"./users-BRdqCvUk.js";import{S as Xe}from"./shield-DY1uA6Ie.js";import{M as Y}from"./mail-rszSVb-K.js";import{M as pe,P as es}from"./phone-C2ypF5p6.js";import{G as he}from"./globe-gzGkdrcW.js";import{B as O}from"./briefcase-DkZ5MVwu.js";import{S as ue}from"./shield-check-VZ-jTMoW.js";import{F as be,U as ss,S as as}from"./user-plus-9NkOTX-o.js";import{S as ts}from"./scale-vZiCuPyk.js";import{T as ls}from"./triangle-alert-UBj17ELl.js";import{C as rs}from"./circle-check-CIHmbhMm.js";import{U as fe}from"./user-CKqF545-.js";import{C as ge,S as is}from"./smartphone-BQ-vabO0.js";import{S as je,a as Ne}from"./square-GbHjPfQI.js";import{W as we}from"./wallet-BCSWYK7D.js";import{T as ve}from"./trash-2-D-RlGKRa.js";import{L as D}from"./lock-BOrpdQ_f.js";import{X as W}from"./x-CoR1GGoA.js";import{K as ns}from"./key-hfl58CTA.js";import{C as z}from"./check-tqaR35OJ.js";import{C as os}from"./circle-alert-B3D8l8RT.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ds=$("panels-top-left",cs);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],ms=$("power",xs);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["rect",{width:"7",height:"12",x:"2",y:"6",rx:"1",key:"5nje8w"}],["path",{d:"M13 8.32a7.43 7.43 0 0 1 0 7.36",key:"1g306n"}],["path",{d:"M16.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"uqvjvo"}],["path",{d:"M19.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"ujntz3"}]],hs=$("smartphone-nfc",ps);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ye=$("user-check",us),bs=()=>{const[d,l]=t.useState([]),[m,x]=t.useState(!0),[h,p]=t.useState("");t.useEffect(()=>{(async()=>{try{const j=await g.getSystemLogs();l(j)}catch{console.error("Failed to load logs")}finally{x(!1)}})()},[]);const A=d.filter(i=>JSON.stringify(i).toLowerCase().includes(h.toLowerCase())),S=i=>i.includes("delete")?"text-red-400 bg-red-500/10 border-red-500/20":i.includes("create")||i.includes("register")?"text-emerald-400 bg-emerald-500/10 border-emerald-500/20":i.includes("update")?"text-cyan-400 bg-cyan-500/10 border-cyan-500/20":"text-slate-400 bg-white/5 border-white/10";return e.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Logs do Sistema"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Registo completo de todas as ações e alterações na plataforma."})]}),e.jsxs("div",{className:"relative group w-full md:w-96",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-400 transition-colors"}),e.jsx("input",{type:"text",value:h,onChange:i=>p(i.target.value),placeholder:"Pesquisar utilizador, ação ou detalhes...",className:"w-full bg-[#111] border border-white/10 rounded-2xl py-3 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder-slate-700"})]})]}),e.jsxs("div",{className:"bg-[#0c0c0c] border border-white/[0.04] rounded-[24px] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-[#111] border-b border-white/5 text-[10px] uppercase font-bold text-slate-500 tracking-widest",children:[e.jsx("div",{className:"col-span-2",children:"Data/Hora"}),e.jsx("div",{className:"col-span-2",children:"Utilizador"}),e.jsx("div",{className:"col-span-2",children:"Ação"}),e.jsx("div",{className:"col-span-2",children:"Recurso"}),e.jsx("div",{className:"col-span-4",children:"Detalhes"})]}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto custom-scrollbar",children:m?e.jsxs("div",{className:"p-10 text-center text-slate-500 flex flex-col items-center gap-2",children:[e.jsx(F,{className:"w-6 h-6 animate-spin text-cyan-500"}),e.jsx("span",{className:"text-xs",children:"Carregando auditoria..."})]}):A.length===0?e.jsx("div",{className:"p-10 text-center text-slate-700",children:"Nenhum registo encontrado."}):A.map(i=>{var j;return e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 border-b border-white/[0.02] hover:bg-white/[0.02] transition-colors items-center text-xs group",children:[e.jsxs("div",{className:"col-span-2 text-slate-400 font-mono flex items-center gap-2",children:[e.jsx(Qe,{className:"w-3 h-3 text-slate-600"}),new Date(i.created_at).toLocaleString("pt-PT")]}),e.jsxs("div",{className:"col-span-2 text-white font-bold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center text-[9px] border border-white/5",children:(i.user_name||"?").substring(0,1)}),e.jsxs("div",{className:"truncate",children:[e.jsx("p",{children:i.user_name||"Sistema"}),e.jsx("p",{className:"text-[9px] text-slate-600 font-normal truncate max-w-[100px]",children:i.user_email})]})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("span",{className:`px-2 py-1 rounded-md text-[9px] font-black uppercase tracking-wider border ${S(i.action)}`,children:i.action.replace(/_/g," ")})}),e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-slate-300",children:[e.jsx(Z,{className:"w-3 h-3 text-slate-600"}),e.jsx("span",{className:"bg-slate-900 border border-slate-800 px-1.5 py-0.5 rounded text-[10px] font-mono",children:i.resource_type}),e.jsxs("span",{className:"text-[9px] text-slate-600 truncate",children:["#",(j=i.target_id)==null?void 0:j.substring(0,8)]})]}),e.jsx("div",{className:"col-span-4 text-slate-400 font-mono text-[10px] truncate group-hover:whitespace-normal group-hover:bg-[#000] group-hover:absolute group-hover:right-4 group-hover:w-[400px] group-hover:z-10 group-hover:border group-hover:border-white/10 group-hover:p-4 group-hover:rounded-xl group-hover:shadow-2xl transition-all",children:JSON.stringify(i.details)})]},i.id)})})]})]})},E=({id:d,activeTab:l,setActiveTab:m,label:x,icon:h,description:p})=>e.jsx("button",{onClick:()=>m(d),className:`flex-shrink-0 lg:w-full text-left p-4 rounded-2xl transition-all duration-300 group relative overflow-hidden ${l===d?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30":"hover:bg-white/5 border border-transparent"}`,children:e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:`p-3 rounded-xl ${l===d?"bg-cyan-500 text-black":"bg-white/5 text-slate-400 group-hover:bg-white/10 group-hover:text-cyan-400"} transition-colors`,children:e.jsx(h,{className:"w-5 h-5"})}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("p",{className:`font-bold text-sm ${l===d?"text-white":"text-slate-400 group-hover:text-white"}`,children:x}),e.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:p})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx("p",{className:`font-bold text-xs ${l===d?"text-white":"text-slate-400"}`,children:x})})]})}),f=({children:d,className:l="",title:m,icon:x,gradient:h})=>e.jsxs("div",{className:`relative bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 overflow-hidden group hover:border-white/10 transition-colors shadow-2xl ${l}`,children:[h&&e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-cyan-500/5 blur-[100px] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:bg-cyan-500/10 transition-colors duration-700"}),e.jsxs("div",{className:"relative z-10",children:[m&&e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[x&&e.jsx(x,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:m})]}),d]})]}),c=({label:d,icon:l,value:m,onChange:x,placeholder:h,type:p="text",disabled:A})=>e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block group-focus-within:text-cyan-400 transition-colors",children:d}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-1.5 rounded-lg bg-white/5 group-focus-within:bg-cyan-500/20 transition-colors",children:e.jsx(l,{className:"w-4 h-4 text-slate-400 group-focus-within:text-cyan-400 transition-colors"})}),e.jsx("input",{type:p,value:m,onChange:p==="text"||p==="password"||p==="email"?S=>x(S.target.value):x,placeholder:h,disabled:A,className:"w-full bg-[#0c0c0c] border border-white/10 rounded-xl py-4 pl-14 pr-4 text-sm text-white placeholder-slate-600 focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),fs=15,Ys=()=>{const d=Be(),{selectedCompany:l,refreshData:m,auditorPrompt:x,updateAuditorPrompt:h,strategistPrompt:p,updateStrategistPrompt:A,ragPrompt:S,updateRagPrompt:i,analyzerPrompt:j,updateAnalyzerPrompt:Ce,visionPrompt:J,updateVisionPrompt:Ae}=qe(),{user:N}=ie(),{setNotifications:gs}=ie(),[n,y]=t.useState("company"),[_,w]=t.useState(!1),[G,R]=t.useState(!1),[r,Q]=t.useState({name:"",email:"",phone:"",address:"",website:"",sector:"",nif:"",regime:"GERAL",cae:"",fiscalRep:"",accountantName:"",accountantEmail:"",logoUrl:"",fiscal_status:"",is_defaulter:!1,fiscal_residence:!0,company_type:""}),[js,Ns]=t.useState("AUDITOR"),[T,Se]=t.useState({AUDITOR:xe,STRATEGIST:de,RAG:ce,ANALYZER:oe,VISION:ne}),[ws,vs]=t.useState({strictMode:!1,autoArchiveDuplicates:!0}),[k,_e]=t.useState([]),[L,Te]=t.useState(""),[v,P]=t.useState(new Set),[Ee,V]=t.useState(!1),[X,B]=t.useState(null),[ee,Pe]=t.useState([]),[se,Ie]=t.useState(10),[a,u]=t.useState({name:"",email:"",role:"OPERATOR",password:"",canUpload:!0,canExport:!1,canDelete:!1,licensePlan:""}),[q,Re]=t.useState(!1),[Le,ae]=t.useState(!1),[H,te]=t.useState(0),[K,ys]=t.useState(null),[Ue,le]=t.useState(!1),[Me]=t.useState([{id:1,device:"Workstation Mac",location:"Luanda, AO",ip:"197.231.0.44",current:!0,type:"DESKTOP"},{id:2,device:"iPhone 15 Pro",location:"Luanda, AO",ip:"102.129.1.5",current:!1,type:"MOBILE"}]),C=t.useCallback(async()=>{if(N)try{const s=l&&l!=="ALL"?l.id:void 0,o=await g.getTeam(N.id,s);o&&Array.isArray(o)&&_e(o)}catch(s){console.error("Failed to load team:",s)}},[N,l]),re=t.useCallback(async()=>{try{const s=await g.getPlans();Pe(s),s.length>0&&!a.licensePlan&&u(o=>({...o,licensePlan:s[0].name}))}catch(s){console.error("Failed to load plans:",s)}},[a.licensePlan]);t.useEffect(()=>{n==="users"&&(C(),re(),l&&l!=="ALL"&&fetch(`${He}/server-plans/subscription?companyId=${l.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}).then(s=>s.json()).then(s=>{s.max_users&&Ie(s.max_users)}).catch(s=>console.error("Failed to fetch max users:",s)))},[n,C,re,l]),t.useEffect(()=>{if(l&&l!=="ALL"){const s=l;Q({name:s.name||"",email:s.email||"",phone:s.phone||"",address:s.address||"",website:s.website||"",sector:s.sector||"",nif:s.nif||"",regime:s.regime||"GERAL",cae:s.cae||"",fiscalRep:s.fiscalRep||"",accountantName:s.accountantName||"",accountantEmail:s.accountantEmail||"",logoUrl:s.logoUrl||"",fiscal_status:s.fiscal_status||"",is_defaulter:s.is_defaulter||!1,fiscal_residence:s.fiscal_residence??!0,company_type:s.company_type||""}),N&&C()}},[l,N,C]),t.useEffect(()=>{Se({AUDITOR:x||xe,STRATEGIST:p||de,RAG:S||ce,ANALYZER:j||oe,VISION:J||ne})},[x,p,S,j,J]);const I=t.useMemo(()=>k.filter(s=>s.role!=="ADMIN"&&s.role!=="ACCOUNTANT"&&(s.name.toLowerCase().includes(L.toLowerCase())||s.email.toLowerCase().includes(L.toLowerCase()))),[k,L]),Oe=()=>{v.size===I.length?P(new Set):P(new Set(I.map(s=>s.id)))},De=async s=>{try{await g.setUserStatus(s.id,s.status!=="ACTIVE"),C()}catch(o){alert(o.message||"Erro ao alterar status")}},ze=async s=>{if(confirm("Tem a certeza que deseja remover este colaborador permanentemente?"))try{await g.deleteTeamMember(s),C()}catch(o){alert(o.message||"Erro ao remover colaborador")}},b=(s,o)=>Q(Ve=>({...Ve,[s]:o})),Fe=async()=>{w(!0);try{if(n==="ai_engine"&&(h(T.AUDITOR),A(T.STRATEGIST),i(T.RAG),Ce(T.ANALYZER),Ae(T.VISION),await g.updateUserPrompts(T)),l&&l!=="ALL"){const s={...r,fiscal_rep:r.fiscalRep,accountant_name:r.accountantName,accountant_email:r.accountantEmail,logo_url:r.logoUrl};await Je.updateClient(l.id,s)}await m(!0),R(!0),setTimeout(()=>R(!1),3e3)}catch(s){alert("Erro ao salvar: "+(s.message||"Erro desconhecido"))}finally{w(!1)}},$e=async s=>{if(s.preventDefault(),B(null),!(!l||l==="ALL")){w(!0);try{await g.createTeamMember({name:a.name,email:a.email,password:a.password,role:a.role,companyId:l.id,licensePlan:a.licensePlan,permissions:{canUpload:a.canUpload,canExport:a.canExport,canDelete:a.canDelete}}),await m(!0),await C(),V(!1),le(!0),setTimeout(()=>{le(!1),n!=="users"&&y("users")},2500),u({name:"",email:"",role:"OPERATOR",password:"",canUpload:!0,canExport:!1,canDelete:!1,licensePlan:"MONTHLY"})}catch(o){B(o.message||"Erro ao criar usuário, tente novamente.")}finally{w(!1)}}},Ge=async()=>{await m(!0)};return l==="ALL"&&n!=="ai_engine"?e.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 animate-in fade-in duration-700",children:[e.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:e.jsx("div",{className:"sticky top-10 space-y-1 bg-[#080808]/50 backdrop-blur-xl border border-white/[0.03] rounded-[32px] p-3 shadow-2xl",children:e.jsx(E,{id:"ai_engine",activeTab:n,setActiveTab:y,label:"Núcleo IA",icon:Ke,description:"Regras Globais"})})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-[60vh] text-slate-500",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-900 border border-white/5 flex items-center justify-center mb-6 shadow-2xl",children:e.jsx(U,{className:"w-10 h-10 opacity-20"})}),e.jsx("h3",{className:"text-white font-bold text-xl tracking-tight",children:"Modo Consolidado"}),e.jsx("p",{className:"text-sm mt-2 max-w-xs text-center leading-relaxed",children:"Você só pode configurar as regras globais de IA nesta vista. Para editar dados de empresa, selecione uma entidade específica."})]})]}):e.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 animate-in fade-in slide-in-from-bottom-6 duration-700 relative",children:[e.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-10 flex flex-row lg:flex-col gap-2 lg:gap-1 bg-[#080808]/50 backdrop-blur-xl border border-white/[0.03] rounded-[32px] p-3 shadow-2xl overflow-x-auto lg:overflow-x-visible custom-scrollbar",children:[e.jsx(E,{id:"company",activeTab:n,setActiveTab:y,label:"Identidade",icon:U,description:"Perfil Corporativo"}),e.jsx(E,{id:"fiscal",activeTab:n,setActiveTab:y,label:"Fiscal",icon:Ye,description:"Compliance & Taxas"}),e.jsx(E,{id:"users",activeTab:n,setActiveTab:y,label:"Utilizadores",icon:me,description:"Equipa & Subscrição"}),e.jsx(E,{id:"security",activeTab:n,setActiveTab:y,label:"Segurança",icon:Xe,description:"Proteção de Dados"}),e.jsx(E,{id:"logs",activeTab:n,setActiveTab:y,label:"Logs",icon:F,description:"Auditoria"})]})}),e.jsxs("div",{className:"flex-1 space-y-8 pb-32",children:[n==="company"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"md:col-span-12 flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Perfil Corporativo"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Gira as informações públicas e de contacto da sua organização."})]}),e.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 flex items-center justify-center text-3xl font-black text-white shadow-2xl transform hover:rotate-3 transition-transform cursor-pointer",children:r.name.substring(0,2).toUpperCase()})]}),e.jsx(f,{title:"Informações Gerais",icon:ds,className:"md:col-span-8",gradient:!0,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(c,{label:"Razão Social",icon:U,value:r.name,onChange:s=>b("name",s)}),e.jsx(c,{label:"E-mail Oficial",icon:Y,value:r.email,onChange:s=>b("email",s)}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(c,{label:"Morada Fiscal",icon:pe,value:r.address,onChange:s=>b("address",s)})})]})}),e.jsx(f,{title:"Presença Digital",icon:he,className:"md:col-span-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{label:"Telefone",icon:es,value:r.phone,onChange:s=>b("phone",s)}),e.jsx(c,{label:"Website",icon:he,value:r.website,onChange:s=>b("website",s)})]})}),e.jsx(f,{title:"Área de Atuação",icon:O,className:"md:col-span-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-end",children:[e.jsx("div",{className:"flex-1 w-full",children:e.jsx(c,{label:"Sector Principal",icon:O,value:r.sector,onChange:s=>b("sector",s),placeholder:"Ex: Tecnologia e Software"})}),e.jsxs("div",{className:"p-4 bg-cyan-500/5 rounded-2xl border border-cyan-500/10 flex items-center gap-3",children:[e.jsx(ue,{className:"w-5 h-5 text-cyan-400"}),e.jsx("p",{className:"text-[10px] font-bold text-cyan-200 uppercase tracking-widest",children:"Entidade Verificada via AGT Service"})]})]})})]}),n==="fiscal"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"md:col-span-12 mb-4",children:[e.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Compliance Fiscal"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Configurações de impostos e parâmetros para validação neural."})]}),e.jsx(f,{title:"Registos Legais",icon:be,className:"md:col-span-12",gradient:!0,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(c,{label:"NIF da Entidade",icon:be,value:r.nif,readonly:!0}),e.jsx(c,{label:"Estado Fiscal",icon:F,value:r.fiscal_status||"N/A",readonly:!0}),e.jsx(c,{label:"Código CAE",icon:Z,value:r.cae,onChange:s=>b("cae",s),placeholder:"Ex: 62010"}),e.jsx(c,{label:"Tipo",icon:U,value:r.company_type||"N/A",readonly:!0}),e.jsx(c,{label:"Regime IVA",icon:ts,value:r.regime,readonly:!0}),e.jsx(c,{label:"Residência",icon:pe,value:r.fiscal_residence?"Residente":"Não Residente",readonly:!0}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Inadimplente?"}),e.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-2 ${r.is_defaulter?"bg-red-500/10 border-red-500/20 text-red-500":"bg-emerald-500/10 border-emerald-500/20 text-emerald-500"}`,children:[r.is_defaulter?e.jsx(ls,{className:"w-5 h-5"}):e.jsx(rs,{className:"w-5 h-5"}),e.jsx("span",{className:"font-bold text-sm uppercase",children:r.is_defaulter?"SIM (Irregular)":"NÃO (Regular)"})]})]})]})}),e.jsxs(f,{title:"Representação",icon:ye,className:"md:col-span-5",children:[e.jsx(c,{label:"Representante Fiscal",icon:ye,value:r.fiscalRep,onChange:s=>b("fiscalRep",s)}),e.jsx("div",{className:"mt-6 p-4 bg-amber-500/5 rounded-2xl border border-amber-500/10",children:e.jsx("p",{className:"text-[10px] text-amber-200/70 leading-relaxed font-medium",children:"A alteração destes dados pode impactar a precisão das validações do KwikDocs para faturas passadas."})})]}),e.jsx(f,{title:"Responsável Técnico",icon:O,className:"md:col-span-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(c,{label:"Nome do Contabilista",icon:fe,value:r.accountantName,onChange:s=>b("accountantName",s)}),e.jsx(c,{label:"E-mail de Notificações Fiscais",icon:Y,value:r.accountantEmail,onChange:s=>b("accountantEmail",s)})]})})]}),n==="users"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Gestão de Equipa"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Adicione colaboradores e monitorize o custo de subscrição."})]}),e.jsxs("button",{onClick:()=>V(!0),className:"px-6 py-3 bg-white text-black rounded-2xl text-xs font-black uppercase tracking-widest flex items-center gap-2 hover:bg-cyan-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.15)] active:scale-95",children:[e.jsx(ss,{className:"w-4 h-4"})," Novo Membro"]})]}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[k.filter(s=>s.status==="ACTIVE"&&s.role!=="ADMIN"&&s.role!=="ACCOUNTANT").length," de ",se," licenças em uso"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Custo Mensal Estimado"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(k.filter(s=>s.status==="ACTIVE"&&s.role!=="ADMIN"&&s.role!=="ACCOUNTANT").length*15).toLocaleString("pt-AO")," ",e.jsx("span",{className:"text-sm font-normal text-slate-400",children:"AOA"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(f,{title:"Custo de Subscrição Mensal",icon:ge,className:"md:col-span-2",gradient:!0,children:[e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-5xl font-black text-white tracking-tighter mb-2",children:[k.filter(s=>s.status==="ACTIVE"&&s.role!=="ADMIN"&&s.role!=="ACCOUNTANT").length*15," ",e.jsx("span",{className:"text-xl text-slate-500 font-medium",children:"créditos"})]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Total recorrente mensal para ",k.filter(s=>s.status==="ACTIVE"&&s.role!=="ADMIN"&&s.role!=="ACCOUNTANT").length," utilizadores activos."]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-bold text-white mb-1",children:"15 Créditos"}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Por Utilizador"})]})]}),e.jsx("div",{className:"mt-6 h-2 w-full bg-[#111] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 w-full animate-pulse"})})]}),e.jsx(f,{title:"Utilização",icon:me,children:e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("div",{className:"text-4xl font-black text-white",children:[k.filter(s=>s.status==="ACTIVE"&&s.role!=="ADMIN"&&s.role!=="ACCOUNTANT").length," / ",se]}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mt-2 font-bold",children:"Licenças Activas"})]})})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 group-focus-within:text-white transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar colaboradores por nome ou email...",value:L,onChange:s=>Te(s.target.value),className:"w-full bg-[#080808] border border-white/5 rounded-2xl pl-11 pr-4 py-3 text-sm text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/30 transition-all font-medium"})]})}),e.jsx("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden shadow-2xl",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[e.jsx("thead",{className:"bg-[#0c0c0c] text-[10px] uppercase font-bold text-slate-500 border-b border-white/5 tracking-widest",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 w-12",children:e.jsx("button",{onClick:Oe,className:"p-1 hover:bg-white/5 rounded transition-colors",children:v.size===I.length&&I.length>0?e.jsx(je,{className:"w-4 h-4 text-cyan-500"}):e.jsx(Ne,{className:"w-4 h-4"})})}),e.jsx("th",{className:"px-4 py-5 font-black",children:"Colaborador"}),e.jsx("th",{className:"px-6 py-5 font-black",children:"Status"}),e.jsx("th",{className:"px-6 py-5 font-black text-center",children:"Créditos"}),e.jsx("th",{className:"px-6 py-5 font-black",children:"Função"}),e.jsx("th",{className:"px-6 py-5 font-black text-center",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:I.map(s=>e.jsxs("tr",{className:`transition-colors group ${v.has(s.id)?"bg-cyan-500/5":"hover:bg-white/[0.02]"}`,children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("button",{onClick:()=>{const o=new Set(v);o.has(s.id)?o.delete(s.id):o.add(s.id),P(o)},className:"flex items-center text-slate-600 hover:text-white transition-colors",children:v.has(s.id)?e.jsx(je,{className:"w-4 h-4 text-cyan-500"}):e.jsx(Ne,{className:"w-4 h-4"})})}),e.jsx("td",{className:"px-4 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center text-cyan-400 font-bold border border-cyan-500/20",children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white text-sm",children:s.name}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-mono",children:s.email})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="ACTIVE"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider ${s.status==="ACTIVE"?"text-emerald-400":"text-red-400"}`,children:s.status==="ACTIVE"?"Activo":"Inactivo"})]})}),e.jsx("td",{className:"px-6 py-5 text-center",children:e.jsx("div",{className:"inline-block px-3 py-1 bg-white/5 rounded-lg border border-white/5",children:e.jsxs("span",{className:"text-xs font-black text-cyan-400 font-mono",children:[s.credits," Cr"]})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:s.role})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-center",children:[e.jsx("button",{onClick:()=>{d("/credits")},className:"p-2.5 rounded-xl bg-white/5 text-slate-400 hover:text-emerald-400 hover:bg-emerald-500/10 border border-transparent hover:border-emerald-500/20 transition-all",title:"Adicionar Créditos",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>De(s),className:`p-2.5 rounded-xl bg-white/5 border border-transparent transition-all ${s.status==="ACTIVE"?"text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/20":"text-emerald-400 hover:bg-emerald-500/10 hover:border-emerald-500/20"}`,title:s.status==="ACTIVE"?"Desactivar":"Activar",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2.5 rounded-xl bg-white/5 text-slate-400 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20 transition-all",children:e.jsx(We,{className:"w-4 h-4"})}),s.id!==(N==null?void 0:N.id)&&e.jsx("button",{onClick:()=>ze(s.id),className:"p-2.5 rounded-xl bg-white/5 text-slate-400 hover:text-red-500 hover:bg-red-500/10 border border-transparent hover:border-red-500/20 transition-all",title:"Remover Acesso",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),v.size>0&&e.jsxs("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] bg-black/80 backdrop-blur-xl border border-white/10 rounded-full px-8 py-4 shadow-2xl flex items-center gap-8 animate-in slide-in-from-bottom-10 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-500 flex items-center justify-center text-black text-[10px] font-black",children:v.size}),e.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-widest",children:"Utilizadores Seleccionados"})]}),e.jsx("div",{className:"h-6 w-px bg-white/10"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-white/5 text-slate-300 hover:text-white hover:bg-white/10 text-[10px] font-black uppercase tracking-widest transition-all",children:[e.jsx(D,{className:"w-3.5 h-3.5"})," Bloquear"]}),e.jsxs("button",{onClick:()=>{confirm(`Remover ${v.size} utilizadores permanentemente?`)&&(alert("Ação em lote processada."),P(new Set))},className:"flex items-center gap-2 px-6 py-2 rounded-full bg-red-500/10 text-red-500 hover:bg-red-500/20 text-[10px] font-black uppercase tracking-widest transition-all",children:[e.jsx(ve,{className:"w-3.5 h-3.5"})," Remover"]})]}),e.jsx("button",{onClick:()=>P(new Set),className:"p-2 hover:bg-white/10 rounded-full text-slate-500 hover:text-white transition-all",children:e.jsx(W,{className:"w-4 h-4"})})]})]}),n==="security"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"md:col-span-12 mb-4",children:[e.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Painel de Segurança"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Controle de acesso, credenciais e monitorização de sessões."})]}),e.jsx(f,{title:"Credenciais de Acesso",icon:ns,className:"md:col-span-5",gradient:!0,children:e.jsxs("div",{className:"space-y-5",children:[e.jsx(c,{label:"Nova Senha",icon:D,type:"password",value:a.password,onChange:s=>u({...a,password:s})}),e.jsx(c,{label:"Confirmar Nova Senha",icon:D,type:"password"}),e.jsx("button",{onClick:async()=>{if(!a.password)return alert("Introduza a nova senha");w(!0);try{await g.changePassword(a.password),R(!0),setTimeout(()=>R(!1),3e3),u({...a,password:""})}catch(s){alert(s.message||"Erro ao alterar senha")}finally{w(!1)}},className:"w-full py-4 mt-2 bg-white/[0.03] hover:bg-white/[0.07] border border-white/10 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl transition-all",children:_?e.jsx(M,{className:"w-4 h-4 animate-spin mx-auto"}):"Actualizar Palavra-passe"})]})}),e.jsxs(f,{title:"Acesso & Dispositivos",icon:ue,className:"md:col-span-7",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10 p-5 bg-cyan-500/[0.03] rounded-[24px] border border-cyan-500/10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-500/10 flex items-center justify-center text-cyan-400 shadow-[0_0_15px_rgba(6,182,212,0.1)]",children:e.jsx(hs,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-white tracking-tight",children:"Autenticação 2FA"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Proteção Adicional de Login"})]})]}),e.jsx("button",{onClick:()=>Re(!q),className:`w-14 h-7 rounded-full relative transition-all duration-500 ${q?"bg-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.5)]":"bg-slate-800"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow-lg transition-all duration-500 ${q?"left-8":"left-1"}`})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-600 uppercase tracking-[0.2em] px-1 flex items-center gap-2",children:[e.jsx(F,{className:"w-3 h-3 text-cyan-500"})," Sessões Activas no Momento"]}),e.jsx("div",{className:"space-y-4",children:Me.map(s=>e.jsxs("div",{className:"flex justify-between items-center group p-4 rounded-2xl bg-black/20 hover:bg-black/40 border border-transparent hover:border-white/5 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-slate-900 rounded-xl border border-white/5 text-slate-500 group-hover:text-white transition-all",children:s.type==="DESKTOP"?e.jsx(Z,{className:"w-5 h-5"}):e.jsx(is,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-white tracking-tight",children:[s.device," ",s.current&&e.jsx("span",{className:"ml-2 text-[8px] text-cyan-400 bg-cyan-400/10 px-2 py-0.5 rounded-full font-black border border-cyan-400/20",children:"ATUAL"})]}),e.jsxs("p",{className:"text-[10px] text-slate-600 font-mono mt-0.5 uppercase tracking-tighter",children:[s.location," • ",s.ip]})]})]}),!s.current&&e.jsx("button",{className:"p-2 text-slate-700 hover:text-red-500 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(Ze,{className:"w-4 h-4"})})]},s.id))})]})]})]}),n==="logs"&&e.jsx(bs,{})]}),(n==="company"||n==="fiscal"||n==="ai_engine")&&e.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[60] w-full max-w-sm px-6 animate-in slide-in-from-bottom-10 fade-in duration-700",children:e.jsxs("button",{onClick:Fe,disabled:_,className:`w-full h-16 rounded-[24px] font-black uppercase text-xs tracking-[0.2em] transition-all shadow-[0_20px_50px_rgba(0,0,0,0.5)] flex items-center justify-center gap-4 group ${G?"bg-emerald-500 text-black shadow-emerald-500/20":"bg-white text-black hover:bg-cyan-50 hover:scale-[1.02] active:scale-95"}`,children:[_?e.jsx(M,{className:"w-5 h-5 animate-spin"}):G?e.jsx(z,{className:"w-5 h-5 stroke-[3px]"}):e.jsx(as,{className:"w-5 h-5"}),G?"Guardado com Sucesso":"Gravar Alterações"]})}),Ee&&e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-[#0c0c0c] border border-white/10 rounded-[40px] w-full max-w-lg p-10 shadow-[0_0_100px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-black text-white tracking-tighter leading-none",children:"Novo Membro"}),e.jsx("p",{className:"text-slate-500 text-sm mt-3",children:"Defina as credenciais para o novo colaborador."})]}),e.jsx("button",{onClick:()=>{V(!1),B(null)},className:"p-3 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(W,{className:"w-5 h-5 text-slate-500"})})]}),X&&e.jsxs("div",{className:"mb-8 p-5 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-start gap-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("div",{className:"p-2 bg-red-500/20 rounded-full mt-0.5",children:e.jsx(os,{className:"w-5 h-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white",children:"Erro no Registo"}),e.jsx("p",{className:"text-xs text-red-400/90 leading-relaxed mt-1",children:X})]})]}),_?e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"relative w-16 h-16 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-500/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-cyan-500 animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"})})]}),e.jsx("h3",{className:"text-xl font-black text-white tracking-tight mb-2",children:"Criando Painel..."}),e.jsxs("p",{className:"text-sm text-slate-400 text-center mb-6 max-w-[250px]",children:["Configurando ambiente para ",e.jsx("span",{className:"text-cyan-400 font-bold",children:a.name||"o colaborador"}),"."]}),e.jsxs("div",{className:"w-full bg-white/5 rounded-xl p-4 border border-white/10 max-w-xs space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-500",children:e.jsx(z,{className:"w-2 h-2"})}),e.jsx("span",{children:"Validando licença"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-500",children:e.jsx(z,{className:"w-2 h-2"})}),e.jsx("span",{children:"Verificando saldo"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-white animate-pulse",children:[e.jsx(M,{className:"w-4 h-4 animate-spin text-cyan-500"}),e.jsx("span",{children:"Gerando credenciais..."})]})]})]}):e.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Nome Completo"}),e.jsxs("div",{className:"relative group",children:[e.jsx(fe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>u({...a,name:s.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-700 font-medium",placeholder:"Ex: João da Silva",required:!0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Email Profissional"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Y,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>u({...a,email:s.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-700 font-medium",placeholder:"Ex: joao@empresa.com",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Senha de Acesso"}),e.jsxs("div",{className:"relative group",children:[e.jsx(D,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"}),e.jsx("input",{type:"password",value:a.password,onChange:s=>u({...a,password:s.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-700 font-medium",placeholder:"••••••••",required:!0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Cargo / Função"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600"}),e.jsxs("select",{value:a.role,onChange:s=>u({...a,role:s.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none appearance-none",children:[e.jsx("option",{value:"COLLABORATOR",children:"Operador"}),e.jsx("option",{value:"ADMIN",children:"Administrador"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Plano de Licença"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:ee.length>0?ee.map(s=>e.jsxs("div",{onClick:()=>u({...a,licensePlan:s.name}),className:`cursor-pointer rounded-xl border p-3 flex flex-col items-center justify-center transition-all ${a.licensePlan===s.name?"bg-purple-500/20 border-purple-500/50":"bg-white/5 border-transparent hover:bg-white/10"}`,children:[e.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 text-center line-clamp-1",children:s.name}),e.jsx("span",{className:`text-xs font-black mt-1 ${a.licensePlan===s.name?"text-purple-400":"text-white"}`,children:s.price_credits>0?`${s.price_credits} C`:"Gratuito"})]},s.id)):e.jsx("div",{className:"col-span-3 text-center py-4 bg-white/5 rounded-xl border border-white/10",children:e.jsx("p",{className:"text-xs text-slate-500",children:"Carregando planos..."})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Permissões de Acesso"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"canUpload",label:"Upload"},{id:"canExport",label:"Export"},{id:"canDelete",label:"Delete"}].map(s=>e.jsxs("div",{onClick:()=>u({...a,[s.id]:!a[s.id]}),className:`cursor-pointer rounded-xl border p-2 flex items-center gap-2 transition-all ${a[s.id]?"bg-cyan-500/10 border-cyan-500/30":"bg-white/5 border-transparent"}`,children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a[s.id]?"bg-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.5)]":"bg-slate-700"}`}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase",children:s.label})]},s.id))})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4 flex items-center gap-3",children:[e.jsx(ge,{className:"w-5 h-5 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-white",children:"Impacto na Subscrição"}),e.jsxs("p",{className:"text-[10px] text-purple-300",children:["Serão debitados ",e.jsxs("span",{className:"font-bold text-white mx-1",children:[fs," Créditos"]})," da conta da empresa."]})]})]}),e.jsx("button",{className:"w-full py-4 bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-sm rounded-xl transition-all shadow-lg shadow-cyan-500/20 active:scale-95 flex items-center justify-center gap-2 mt-4",children:"Confirmar Registo"})]})]})}),Le&&K&&e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-[#0c0c0c] border border-white/10 rounded-[32px] w-full max-w-md p-8 shadow-[0_0_100px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-white tracking-tighter leading-none",children:"Adicionar Créditos"}),e.jsxs("p",{className:"text-slate-500 text-xs mt-2",children:["Para: ",e.jsx("span",{className:"text-cyan-400 font-bold",children:K.name})]})]}),e.jsx("button",{onClick:()=>ae(!1),className:"p-2 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(W,{className:"w-4 h-4 text-slate-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{label:"Quantidade de Créditos",icon:we,type:"number",value:H,onChange:s=>te(Number(s)),placeholder:"0"}),e.jsx("button",{onClick:async()=>{if(H<=0)return alert("Quantidade inválida");w(!0);try{await g.addCredits(K.id,H),await Ge(),ae(!1),te(0)}catch(s){alert(s.message||"Erro ao adicionar créditos")}finally{w(!1)}},disabled:_,className:"w-full py-4 bg-emerald-500 text-black font-black uppercase text-xs tracking-[0.2em] rounded-xl shadow-lg hover:bg-emerald-400 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:_?e.jsx(M,{className:"w-4 h-4 animate-spin mx-auto"}):"CONFIRMAR DEPÓSITO"})]})]})}),Ue&&e.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-emerald-500 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-in fade-in zoom-in-95 slide-in-from-bottom-5 duration-300",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:"Membro Adicionado!"}),e.jsx("p",{className:"text-xs text-emerald-100",children:"Licença ativada e créditos debitados."})]})]})})]})};export{Ys as default};
