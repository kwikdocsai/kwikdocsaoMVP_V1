import{r as t,j as e,b as E,B as A,F as T}from"./index-Cxrs3Lkb.js";import{z as P}from"./index-DvwaB0WQ.js";import{A as j}from"./arrow-right-DnVJOdLl.js";import{C as R}from"./circle-check-big-DEZEAuV8.js";import{U as z}from"./user-V-ph3OoA.js";import{W as B}from"./wallet-C1VYc_Dt.js";const r=({children:a})=>e.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1",children:a}),n=a=>e.jsx("input",{...a,className:"w-full bg-[#111] border border-white/5 rounded-xl py-3.5 px-4 text-white placeholder-slate-600 focus:outline-none focus:border-teal-500/50 focus:bg-[#151515] transition-all mb-5 text-sm font-medium"}),v=({options:a,placeholder:l,...d})=>e.jsxs("div",{className:"relative mb-5",children:[e.jsxs("select",{...d,className:"w-full bg-[#111] border border-white/5 rounded-xl py-3.5 px-4 text-white appearance-none focus:outline-none focus:border-teal-500/50 focus:bg-[#151515] transition-all cursor-pointer text-sm font-medium",children:[e.jsx("option",{value:"",disabled:!0,className:"text-slate-500",children:l}),a.map(i=>e.jsx("option",{value:i,className:"bg-[#111]",children:i},i))]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500 text-xs",children:"▼"})]}),q=({onComplete:a})=>{const[l,d]=t.useState(1),[i,N]=t.useState(""),[c,w]=t.useState(""),[x,y]=t.useState(""),[m,C]=t.useState(""),[h,k]=t.useState(""),[o,u]=t.useState(null),p=()=>d(s=>s+1),[b,g]=t.useState(!1),S=async()=>{g(!0);try{const s=localStorage.getItem("auth_token"),f=await fetch("/api/setup/company",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({name:i,nif:c,type:x,regime:m,activity:h,hasAccountant:o,accountantEmail:""})});if(!f.ok){const _=await f.json();throw new Error(_.error||"Erro ao salvar dados da empresa")}a()}catch(s){console.error("Onboarding save error:",s),P.error("Erro ao salvar configurações. Tente novamente.")}finally{g(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center p-6 relative font-sans overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-teal-500/5 rounded-full filter blur-[100px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-emerald-500/5 rounded-full filter blur-[100px]"})]}),e.jsxs("div",{className:"w-full max-w-2xl relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"w-8 h-8 flex-shrink-0",iconClassName:"w-5 h-5"}),e.jsx("span",{className:"font-bold text-xl text-white tracking-tight",children:"Setup Inicial"})]}),e.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest bg-white/5 px-3 py-1.5 rounded-full",children:["Passo ",e.jsx("span",{className:"text-teal-400",children:l})," / 3"]})]}),e.jsxs("div",{className:"bg-[#080808] border border-white/[0.05] rounded-[32px] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-[#111]",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-teal-600 to-teal-400 transition-all duration-500 ease-out shadow-[0_0_10px_#14b8a6]",style:{width:`${l/3*100}%`}})}),l===1&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"flex items-start justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("div",{className:"w-12 h-12 bg-[#111] rounded-2xl flex items-center justify-center text-teal-400 mb-4 border border-white/5",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Dados da Empresa"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Essas informações são usadas para validação fiscal inteligente na AGT."})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-x-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(r,{children:"Nome da Empresa"}),e.jsx(n,{placeholder:"Ex: KwikDocs Soluções Lda",value:i,onChange:s=>N(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"NIF"}),e.jsx(n,{placeholder:"0000000000",value:c,onChange:s=>w(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Tipo de Negócio"}),e.jsx(v,{value:x,onChange:s=>y(s.target.value),placeholder:"Selecione...",options:["PME","Contabilidade","Comércio Varejista","Prestação de Serviços","Outro"]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:p,disabled:!i||!c||!x,className:"bg-teal-500 hover:bg-teal-400 text-black px-8 py-3.5 rounded-xl font-bold transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(20,184,166,0.2)] hover:shadow-[0_0_30px_rgba(20,184,166,0.4)]",children:["Continuar ",e.jsx(j,{className:"w-4 h-4"})]})})]}),l===2&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-[#111] rounded-2xl flex items-center justify-center text-teal-400 mb-4 border border-white/5",children:e.jsx(T,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Contexto Fiscal"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Ajude-nos a personalizar os relatórios fiscais para o seu regime."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-x-6",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Regime Fiscal"}),e.jsx(v,{value:m,onChange:s=>C(s.target.value),placeholder:"Selecione o regime...",options:["Regime Geral","Regime Simplificado","Regime de Exclusão"]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Atividade Principal"}),e.jsx(n,{placeholder:"Ex: Tecnologia",value:h,onChange:s=>k(s.target.value)})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(r,{children:"Possui Contabilista Certificado?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 mb-5",children:[e.jsxs("button",{onClick:()=>u(!0),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${o===!0?"bg-teal-500/10 border-teal-500 text-teal-400 shadow-[0_0_15px_rgba(20,184,166,0.1)]":"bg-[#111] border-white/5 text-slate-400 hover:border-white/20"}`,children:[e.jsx(R,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Sim, tenho"})]}),e.jsxs("button",{onClick:()=>u(!1),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${o===!1?"bg-teal-500/10 border-teal-500 text-teal-400 shadow-[0_0_15px_rgba(20,184,166,0.1)]":"bg-[#111] border-white/5 text-slate-400 hover:border-white/20"}`,children:[e.jsx(z,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Não tenho"})]})]})]}),o===!0&&e.jsxs("div",{className:"mt-2 animate-in fade-in slide-in-from-top-2",children:[e.jsx(r,{children:"Email do Contabilista (Opcional)"}),e.jsx(n,{placeholder:"contabilidade@exemplo.com"})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:p,disabled:!m||!h||o===null,className:"bg-teal-500 hover:bg-teal-400 text-black px-8 py-3.5 rounded-xl font-bold transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(20,184,166,0.2)] hover:shadow-[0_0_30px_rgba(20,184,166,0.4)]",children:["Continuar ",e.jsx(j,{className:"w-4 h-4"})]})})]}),l===3&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 text-center py-8",children:[e.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-500/20 rounded-full blur-xl animate-pulse"}),e.jsx("div",{className:"w-24 h-24 bg-[#111] border border-teal-500/30 rounded-full flex items-center justify-center text-white relative z-10 shadow-2xl",children:e.jsx(B,{className:"w-10 h-10 text-teal-400"})})]}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4 tracking-tight",children:"Tudo Pronto!"}),e.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 text-base",children:"Sua conta foi configurada com sucesso. Para começar, adicionamos um presente de boas-vindas."}),e.jsxs("div",{className:"bg-[#111] border border-white/5 rounded-2xl p-6 max-w-sm mx-auto mb-10 relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-500/5 rounded-2xl group-hover:bg-teal-500/10 transition-colors"}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-2",children:"Seu Saldo Inicial"}),e.jsxs("div",{className:"text-5xl font-bold text-white flex items-center justify-center gap-2 tracking-tighter",children:["15 ",e.jsx("span",{className:"text-xl text-teal-400 font-medium",children:"Créditos"})]}),e.jsx("div",{className:"text-xs text-slate-500 mt-2 font-mono",children:"Bónus de novo membro"})]}),e.jsx("button",{onClick:S,disabled:b,className:"bg-white text-black px-10 py-4 rounded-xl font-bold text-sm uppercase tracking-wide hover:bg-teal-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.2)] hover:scale-105 disabled:opacity-50 disabled:cursor-wait",children:b?"Configurando...":"Acessar Dashboard"}),e.jsx("p",{className:"mt-6 text-[10px] text-slate-600 uppercase tracking-widest",children:"Sem compromisso • Cancele quando quiser"})]})]})]})]})};export{q as default};
