import{a as v,r as h,j as e,l as y,g as k,F as p,D as r}from"./index-DGU_5aUU.js";import{X as C}from"./x-C23A08Zc.js";import{C as u}from"./circle-check-C0_zhOmv.js";import{T as f}from"./triangle-alert-AKe5ARM8.js";import{E as b}from"./eye-PPCr0sL6.js";import{A as R}from"./arrow-right-DV5z_pG1.js";const $=({onViewResults:j})=>{const{completionStats:t,showGlobalCompletionModal:w,closeGlobalCompletionModal:E,stopNotificationSound:_,setSelectedDocument:c,clearCompletionStates:d}=v(),[l,g]=h.useState(""),n=()=>{d()},x=s=>{if(d(),s)c(s);else if(t!=null&&t.docs&&t.docs.length>0){const a=t.docs.find(i=>i.status!==r.ERROR)||t.docs[0];c(a)}j()},m=h.useMemo(()=>t!=null&&t.docs?t.docs.filter(s=>{var a,i;return s.fileName.toLowerCase().includes(l.toLowerCase())||((i=(a=s.data)==null?void 0:a.merchantName)==null?void 0:i.toLowerCase().includes(l.toLowerCase()))}):[],[t==null?void 0:t.docs,l]);if(!w||!t)return null;const{success:N,error:o,total:D,docs:A}=t;return e.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-6 bg-black/80 backdrop-blur-xl animate-in fade-in duration-500",children:[e.jsx("div",{className:"absolute inset-0",onClick:n}),e.jsxs("div",{className:"relative w-full max-w-2xl bg-[#0a0a0a] border border-white/[0.08] rounded-[40px] shadow-[0_0_100px_rgba(0,0,0,0.5)] overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-10 duration-500",children:[e.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-cyan-500 via-teal-500 to-blue-600"}),e.jsxs("div",{className:"p-8 md:p-10 relative z-10 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"w-16 h-16 rounded-2xl bg-cyan-500/10 border border-cyan-500/30 flex items-center justify-center text-cyan-400 relative",children:[e.jsx(y,{className:"w-8 h-8 animate-pulse"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-[#0a0a0a] shadow-[0_0_10px_#10b981]"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white tracking-tight leading-tight uppercase",children:"Análise Finalizada"}),e.jsx("p",{className:"text-slate-400 text-xs mt-1 font-bold tracking-widest uppercase",children:"Lote neural processado com sucesso"})]})]}),e.jsx("button",{onClick:n,className:"p-2.5 hover:bg-white/5 rounded-full text-slate-500 hover:text-white transition-all",children:e.jsx(C,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 shrink-0",children:[e.jsxs("div",{className:"p-4 rounded-3xl bg-[#111] border border-emerald-500/10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Aprovados"}),e.jsx("p",{className:"text-2xl font-black text-white font-mono",children:N})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400",children:e.jsx(u,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:`p-4 rounded-3xl border flex items-center justify-between transition-all ${o>0?"bg-red-500/5 border-red-500/10":"bg-[#111] border-white/5 opacity-40"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Divergências"}),e.jsx("p",{className:"text-2xl font-black text-white font-mono",children:o})]}),e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o>0?"bg-red-500/10 text-red-400":"bg-slate-800 text-slate-500"}`,children:e.jsx(f,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-[#050505] rounded-[32px] border border-white/5 p-4 overflow-hidden mb-8",children:[e.jsxs("div",{className:"relative mb-4 shrink-0",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-600 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Filtrar resultados...",value:l,onChange:s=>g(s.target.value),className:"w-full bg-[#111] border border-white/5 rounded-2xl pl-10 pr-4 py-2.5 text-sm text-white focus:outline-none focus:border-cyan-500/50 transition-all font-medium"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-1",children:m.length>0?m.map(s=>{var a;return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-[#0d0d0d] border border-white/[0.03] hover:bg-white/[0.05] transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${s.status===r.ERROR||s.status===r.REJEITADO?"bg-red-500/10 text-red-400":"bg-emerald-500/10 text-emerald-400"}`,children:e.jsx(p,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-white truncate",children:((a=s.data)==null?void 0:a.merchantName)||s.fileName}),e.jsx("p",{className:"text-[10px] text-slate-500 font-mono truncate",children:s.fileName})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[s.status===r.ERROR||s.status===r.REJEITADO?e.jsxs("span",{className:"text-[10px] font-black text-red-500/80 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3"})," Falha"]}):e.jsxs("span",{className:"text-[10px] font-black text-emerald-500/80 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3"})," OK"]}),e.jsx("button",{onClick:()=>x(s),className:"p-1.5 rounded-lg bg-white/5 text-slate-500 hover:text-cyan-400 hover:bg-cyan-500/10 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(b,{className:"w-4 h-4"})})]})]},s.id)}):e.jsxs("div",{className:"h-32 flex flex-col items-center justify-center text-slate-600 opacity-50",children:[e.jsx(p,{className:"w-8 h-8 mb-2"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 shrink-0",children:[e.jsxs("button",{onClick:()=>x(),className:"flex-1 py-5 rounded-[22px] bg-white text-black font-black text-sm uppercase tracking-wider transition-all shadow-[0_15px_40px_rgba(255,255,255,0.1)] hover:shadow-[0_20px_50px_rgba(255,255,255,0.2)] hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-4 group",children:[e.jsx(b,{className:"w-6 h-6"}),"Explorar Lote Completo",e.jsx(R,{className:"w-5 h-5 group-hover:translate-x-1.5 transition-transform"})]}),e.jsx("button",{onClick:n,className:"py-5 px-8 rounded-[22px] bg-[#111] hover:bg-white/5 text-slate-400 hover:text-white text-xs font-bold uppercase tracking-widest transition-all border border-white/5",children:"Fechar"})]})]})]})]})};export{$ as default};
